<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- åŸºç¡€SEOä¿¡æ¯ -->
    <title>91é¢„æµ‹ - DKFile - å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å° | Free HTML Website Hosting</title>
    <meta name="description" content="ğŸ¯ 91 91ç‹¬å®¶é¢„æµ‹ â€¢ æ•°æ®æ¥æºï¼šJND28å®˜æ–¹å¼€å¥–è®°å½• âš ï¸ æ•°æ®ä»…ä¾›å‚è€ƒ ä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®">
    <meta name="keywords" content="é¢„æµ‹é¢‘é“, daoshinb1, 91ç‹¬å®¶é¢„æµ‹, æ•°æ®æ¥æº, JND28å®˜æ–¹å¼€å¥–è®°å½•, æ•°æ®ä»…ä¾›å‚è€ƒ, ä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®, DKFile, å…è´¹ç½‘é¡µæ‰˜ç®¡, HTMLæ‰˜ç®¡, é™æ€ç½‘ç«™æ‰˜ç®¡, ç½‘é¡µå‘å¸ƒ, å…è´¹å»ºç«™">
    <meta name="author" content="qinci">
    <meta name="generator" content="DKFile - å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å° | Free HTML Website Hosting">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="bingbot" content="index, follow">
    <meta name="rating" content="general">
    <meta name="revisit-after" content="7 days">
    <meta name="distribution" content="global">
    <meta name="language" content="zh-CN">
    <meta name="geo.region" content="CN">
    <meta name="geo.country" content="China">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#007bff">
    <meta name="msapplication-TileColor" content="#007bff">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="91é¢„æµ‹">
    
    <!-- CSRF Token for AJAX requests -->
    <meta name="csrf-token" content="25f15f213873c89112c5bbadb9151231645994d30dba91514e50ecd239f952e8">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css">
    
    <!-- åé¦ˆå¼¹çª—æ ·å¼ -->
    <style>
        #feedbackModal .modal-content {
            border-radius: 16px;
            overflow: hidden;
            border: none;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        #feedbackModal .modal-header {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border-bottom: none;
            padding: 1.5rem 1.5rem 1rem;
        }
        
        #feedbackModal .modal-header .btn-close {
            filter: invert(1);
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }
        
        #feedbackModal .modal-header .btn-close:hover {
            opacity: 1;
        }
        
        #feedbackModal .modal-title {
            color: white;
            font-weight: 600;
            font-size: 1.25rem;
        }
        
        #feedbackModal .modal-title i {
            color: rgba(255, 255, 255, 0.9);
        }
        
        #feedbackModal .modal-body {
            padding: 1.5rem;
        }
        
        #feedbackModal .modal-footer {
            padding: 1rem 1.5rem 1.5rem;
            border-top: none;
        }
        
        .feedback-type-btn {
            transition: all 0.3s ease;
            border-radius: 8px;
            font-weight: 500;
        }
        
        .feedback-type-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .feedback-textarea {
            transition: border-color 0.3s ease;
        }
        
        .feedback-textarea:focus {
            border-color: #28a745;
            box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
        }
        
        @media (max-width: 768px) {
            .feedback-type-btn {
                min-height: 40px;
                font-size: 0.85rem;
            }
        }
        
        /* å³ä¸‹è§’æµ®åŠ¨åé¦ˆæŒ‰é’®æ ·å¼ */
        .floating-feedback-btn {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            z-index: 1000;
            border: none;
            text-decoration: none;
        }
        
        .floating-feedback-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.6);
            color: white;
            text-decoration: none;
        }
        
        .floating-feedback-btn:active {
            transform: translateY(0) scale(0.95);
        }
        
        .floating-feedback-btn i {
            font-size: 20px;
            margin-bottom: 2px;
        }
        
        .floating-btn-text {
            font-size: 10px;
            font-weight: 500;
            line-height: 1;
        }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .floating-feedback-btn {
                bottom: 80px;
                right: 15px;
                width: 50px;
                height: 50px;
            }
            
            .floating-feedback-btn i {
                font-size: 18px;
            }
            
            .floating-btn-text {
                font-size: 9px;
            }
        }
        
        /* æ‰‹æœºç«¯ä¸»èœå•æŒ‰é’®æ ·å¼ - é»˜è®¤éšè—ï¼ˆæ¡Œé¢ç«¯ä¸æ˜¾ç¤ºï¼‰ï¼Œæ‰‹æœºç«¯åœ¨åª’ä½“æŸ¥è¯¢ä¸­æ˜¾ç¤º */
        /* æ³¨æ„ï¼šæ‰‹æœºç«¯æ˜¾ç¤ºè§„åˆ™åœ¨ @media (max-width: 768px) ä¸­å®šä¹‰ */
        @media (min-width: 769px) {
            #floatingMenuBtn,
            #dkfile-floating-buttons > #floatingMenuBtn,
            body > #dkfile-floating-buttons > #floatingMenuBtn,
            html > body > #dkfile-floating-buttons > #floatingMenuBtn,
            .floating-menu-btn {
                display: none !important;
            }
        }
        
        /* æ‰‹æœºç«¯å±•å¼€çŠ¶æ€é®ç½©å±‚ */
        #floatingButtonsOverlay,
        .floating-buttons-overlay {
            display: none;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            background: rgba(0, 0, 0, 0.3) !important;
            z-index: 9999 !important;
            backdrop-filter: blur(2px) !important;
            pointer-events: none !important;
        }
        
        #floatingButtonsOverlay.active,
        .floating-buttons-overlay.active {
            display: block !important;
            pointer-events: auto !important;
        }
        
        /* å³ä¸‹è§’å›ºå®šæµ®å±‚æŒ‰é’®ç»„ - ä¼˜åŒ–ç‰ˆæœ¬ */
        /* æµ®åŠ¨æŒ‰é’®å®¹å™¨ - ä½¿ç”¨æœ€é«˜ä¼˜å…ˆçº§ï¼Œé˜²æ­¢ç”¨æˆ·è¦†ç›– */
        body > .floating-action-buttons,
        html > body > .floating-action-buttons,
        body:last-child > .floating-action-buttons,
        .content-wrapper ~ .floating-action-buttons,
        #dkfile-floating-buttons {
            position: fixed !important;
            bottom: 80px !important;
            right: 20px !important;
            left: auto !important;
            top: auto !important;
            z-index: 10000 !important;
            display: flex !important;
            flex-direction: column-reverse !important;
            align-items: center !important;
            justify-content: flex-start !important;
            gap: 8px !important;
            margin: 0 !important;
            padding: 0 !important;
            width: auto !important;
            height: auto !important;
            transform: none !important;
            opacity: 1 !important;
            visibility: visible !important;
            pointer-events: auto !important;
        }
        
        /* å¹³å°æ ‡è¯†æŒ‰é’® - é›†æˆåˆ°æµ®åŠ¨æŒ‰é’®ç»„ä¸‹æ–¹ï¼Œä½¿ç”¨ç›¸åŒçš„fixedå®šä½æœºåˆ¶ */
        body > #dkfile-platform-footer-in-buttons,
        html > body > #dkfile-platform-footer-in-buttons,
        body:last-child > #dkfile-platform-footer-in-buttons,
        .content-wrapper ~ #dkfile-platform-footer-in-buttons,
        #dkfile-platform-footer-in-buttons {
            position: fixed !important;
            bottom: 10px !important;
            right: 20px !important;
            left: auto !important;
            top: auto !important;
            z-index: 10000 !important;
            display: flex !important;
            justify-content: flex-end !important;
            align-items: center !important;
            visibility: visible !important;
            opacity: 1 !important;
            pointer-events: auto !important;
            margin: 0 !important;
            padding: 6px 12px !important;
            width: auto !important;
            box-sizing: border-box !important;
            transform: none !important;
            background: rgba(255, 255, 255, 0.9) !important;
            backdrop-filter: blur(10px) !important;
            border-radius: 8px !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
            font-size: 11px !important;
            color: #666 !important;
            line-height: 1.4 !important;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
        }
        
        #dkfile-platform-footer-in-buttons a {
            color: #28a745 !important;
            text-decoration: none !important;
            margin: 0 2px !important;
            transition: color 0.2s ease !important;
        }
        
        #dkfile-platform-footer-in-buttons a:hover {
            color: #218838 !important;
            text-decoration: underline !important;
        }
        
        @media (max-width: 768px) {
            /* æ‰‹æœºç«¯éšè—å¹³å°æ ‡è¯†ï¼Œé¿å…é®æŒ¡ç”¨æˆ·å†…å®¹ - ä½¿ç”¨ display: none ç¡®ä¿ SEO å‹å¥½ï¼ˆå†…å®¹ä¿ç•™åœ¨ HTML ä¸­ï¼‰ */
            /* ä½¿ç”¨æœ€é«˜ä¼˜å…ˆçº§é€‰æ‹©å™¨ï¼Œç¡®ä¿è¦†ç›–å†…è”æ ·å¼ */
            html body #dkfile-platform-footer-in-buttons,
            html > body > #dkfile-platform-footer-in-buttons,
            body > #dkfile-platform-footer-in-buttons,
            body:last-child > #dkfile-platform-footer-in-buttons,
            .content-wrapper ~ #dkfile-platform-footer-in-buttons,
            #dkfile-platform-footer-in-buttons {
                display: none !important;
            }
        }
        
        /* æµ®åŠ¨æŒ‰é’® - ä½¿ç”¨IDé€‰æ‹©å™¨ç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§ï¼Œé˜²æ­¢ç”¨æˆ·è¦†ç›– */
        #dkfile-floating-buttons > .floating-btn,
        #dkfile-floating-buttons .floating-btn,
        body > #dkfile-floating-buttons > .floating-btn,
        html > body > #dkfile-floating-buttons > .floating-btn,
        body > .floating-action-buttons > .floating-btn,
        html > body > .floating-action-buttons > .floating-btn,
        .floating-action-buttons .floating-btn {
            width: 40px !important;
            height: 40px !important;
            min-width: 40px !important;
            min-height: 40px !important;
            max-width: 40px !important;
            max-height: 40px !important;
            border-radius: 10px !important;
            border: none !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            font-size: 14px !important;
            color: white !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
            position: relative !important;
            backdrop-filter: blur(10px) !important;
            margin: 0 !important;
            padding: 0 !important;
            box-sizing: border-box !important;
            transform: none !important;
            opacity: 1 !important;
            visibility: visible !important;
            pointer-events: auto !important;
            overflow: visible !important;
        }
        
        /* æŒ‰é’®æ ‡ç­¾æ ·å¼ - æ‰‹æœºç«¯å±•å¼€æ—¶æ˜¾ç¤º */
        .floating-btn::after {
            content: attr(data-label);
            position: absolute;
            right: calc(100% + 12px);
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 500;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 10001;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            line-height: 1.4;
        }
        
        /* æ‰‹æœºç«¯å±•å¼€çŠ¶æ€æ—¶æ˜¾ç¤ºæ ‡ç­¾ */
        @media (max-width: 768px) {
            .floating-action-buttons.expanded .floating-btn:not(.floating-menu-btn)::after,
            #dkfile-floating-buttons.expanded .floating-btn:not(.floating-menu-btn)::after {
                opacity: 1 !important;
                visibility: visible !important;
                pointer-events: auto !important;
            }
            
            /* ç¡®ä¿æŒ‰é’®å®¹å™¨åœ¨å±•å¼€æ—¶æœ‰è¶³å¤Ÿç©ºé—´æ˜¾ç¤ºæ ‡ç­¾ */
            .floating-action-buttons.expanded,
            #dkfile-floating-buttons.expanded {
                align-items: center !important; /* ä¿æŒå‚ç›´å±…ä¸­å¯¹é½ */
                gap: 8px !important; /* å±•å¼€æ—¶æ¢å¤é—´è· */
            }
        }
        
        .floating-btn:hover {
            transform: translateY(-1px) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
        }
        
        .floating-btn:active,
        .floating-btn:focus {
            transform: translateY(0) !important;
            outline: none !important;
            -webkit-tap-highlight-color: transparent !important;
        }
        
        .floating-btn.like-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%) !important;
        }
        
        /* å·²ç‚¹èµçŠ¶æ€ - çº¢è‰²é€‰ä¸­æ•ˆæœï¼ˆè¡Œä¸šé€šç”¨ï¼šçº¢è‰²èƒŒæ™¯+ç™½è‰²å®å¿ƒå›¾æ ‡ï¼‰ */
        #dkfile-floating-buttons .floating-btn.like-btn.liked,
        .floating-action-buttons .floating-btn.like-btn.liked,
        .floating-btn.like-btn.liked {
            background: #ff4757 !important;
            color: white !important;
        }
        
        #dkfile-floating-buttons .floating-btn.like-btn.liked i,
        .floating-action-buttons .floating-btn.like-btn.liked i,
        .floating-btn.like-btn.liked i {
            color: white !important;
        }
        
        .floating-btn.favorite-btn {
            background: linear-gradient(135deg, #20c997 0%, #28a745 100%) !important;
        }
        
        /* å·²æ”¶è—çŠ¶æ€ - çº¢è‰²é€‰ä¸­æ•ˆæœï¼ˆè¡Œä¸šé€šç”¨ï¼šçº¢è‰²èƒŒæ™¯+ç™½è‰²å®å¿ƒå›¾æ ‡ï¼‰ */
        #dkfile-floating-buttons .floating-btn.favorite-btn.favorited,
        .floating-action-buttons .floating-btn.favorite-btn.favorited,
        .floating-btn.favorite-btn.favorited {
            background: #ff4757 !important;
            color: white !important;
        }
        
        #dkfile-floating-buttons .floating-btn.favorite-btn.favorited i,
        .floating-action-buttons .floating-btn.favorite-btn.favorited i,
        .floating-btn.favorite-btn.favorited i {
            color: white !important;
        }
        
        .floating-btn.feedback-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%) !important;
        }
        
        .floating-btn.share-btn {
            background: linear-gradient(135deg, #20c997 0%, #28a745 100%) !important;
        }
        
        .floating-btn.my-tools-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%) !important;
        }
        
        /* å·²ç™»å½•çŠ¶æ€ - çº¢è‰²é€‰ä¸­æ•ˆæœï¼ˆç±»ä¼¼å·²æ”¶è—ï¼‰ */
        #dkfile-floating-buttons .floating-btn.my-tools-btn.logged-in,
        .floating-action-buttons .floating-btn.my-tools-btn.logged-in,
        .floating-btn.my-tools-btn.logged-in {
            background: #ff4757 !important;
            color: white !important;
        }
        
        #dkfile-floating-buttons .floating-btn.my-tools-btn.logged-in i,
        .floating-action-buttons .floating-btn.my-tools-btn.logged-in i,
        .floating-btn.my-tools-btn.logged-in i {
            color: white !important;
        }
        
        /* æµ®å±‚å¼¹çª—æ ·å¼ - ä½¿ç”¨æœ€é«˜ä¼˜å…ˆçº§ç¡®ä¿ä¸è¢«ç”¨æˆ·å†…å®¹è¦†ç›– */
        #shareOverlay,
        #feedbackOverlay,
        .floating-overlay {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            background: rgba(0, 0, 0, 0.5) !important;
            backdrop-filter: blur(4px) !important;
            z-index: 2147483646 !important; /* ä»…æ¬¡äºå¹³å°æ ‡è¯†ï¼Œç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§ */
            display: none !important;
            align-items: center !important;
            justify-content: center !important;
            padding: 20px !important;
            animation: fadeIn 0.3s ease !important;
            margin: 0 !important;
            pointer-events: auto !important;
        }
        
        /* åˆ†äº«å¼¹çª—ç‰¹æ®Šä¿æŠ¤ - ç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§ */
        #shareOverlay {
            z-index: 2147483646 !important;
        }
        
        #shareOverlay.floating-overlay {
            z-index: 2147483646 !important;
        }
        
        /* ç¡®ä¿åˆ†äº«å¼¹çª—é¢æ¿ä¹Ÿæœ‰æœ€é«˜ä¼˜å…ˆçº§ */
        #shareOverlay .floating-panel,
        #shareOverlay .share-menu {
            position: relative !important;
            z-index: 2147483647 !important;
        }
        
        /* äºŒç»´ç åŒºåŸŸæ ·å¼ */
        .qr-code-section {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            margin: 16px 0;
        }
        
        .qr-code-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100px;
            margin-bottom: 16px;
        }
        
        .qr-loading {
            color: #666;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .qr-actions {
            display: flex;
            gap: 12px;
            justify-content: center;
        }
        
        .qr-action-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .qr-action-btn.download-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);
        }
        
        .qr-action-btn.download-btn:hover {
            background: linear-gradient(135deg, #218838 0%, #1ea085 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.4);
        }
        
        .qr-action-btn.copy-btn {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(108, 117, 125, 0.3);
        }
        
        .qr-action-btn.copy-btn:hover {
            background: linear-gradient(135deg, #5a6268 0%, #343a40 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 117, 125, 0.4);
        }
        
        .qr-code-image {
            text-align: center;
        }
        
        .qr-code-text {
            margin-top: 8px;
            font-size: 0.8rem;
            color: #666;
        }
        
        .qr-error {
            color: #dc3545;
            font-size: 0.9rem;
        }
        
        /* æµ®å±‚é¢æ¿æ ·å¼ - ä½¿ç”¨IDé€‰æ‹©å™¨ç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§ */
        #shareOverlay .floating-panel,
        #feedbackOverlay .floating-panel,
        .floating-panel {
            background: white !important;
            border-radius: 20px !important;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3) !important;
            max-width: 500px !important;
            width: 100% !important;
            max-height: 90vh !important;
            overflow-y: auto !important;
            animation: slideUp 0.3s ease !important;
            margin: 0 auto !important;
            position: relative !important;
            z-index: 2147483647 !important;
        }
        
        .floating-header {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 12px 20px 10px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .floating-title {
            margin: 0;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .floating-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background-color 0.3s ease;
        }
        
        .floating-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .floating-body {
            padding: 16px 20px;
            max-height: calc(90vh - 140px);
            overflow-y: auto;
            color: #333 !important; /* ç¡®ä¿æ–‡å­—é¢œè‰²ä¸è¢«ç”¨æˆ·å†…å®¹å½±å“ */
        }
        
        /* å¢å¼ºåé¦ˆå¼¹çª—æ ·å¼éš”ç¦»ï¼Œé˜²æ­¢ç”¨æˆ·å†…å®¹å½±å“ */
        #feedbackOverlay .floating-body,
        #feedbackOverlay .floating-body * {
            color: #333 !important;
        }
        
        #feedbackOverlay .floating-body label,
        #feedbackOverlay .floating-body .feedback-label,
        #feedbackOverlay .floating-body .feedback-section,
        #feedbackOverlay .floating-body .feedback-tool-info {
            color: #333 !important;
        }
        
        #feedbackOverlay .floating-body strong {
            color: #333 !important;
        }
        
        #feedbackOverlay .floating-body .text-muted {
            color: #6c757d !important;
        }
        
        .floating-footer {
            padding: 12px 20px;
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            border-top: 1px solid #f0f0f0;
        }
        
        .floating-btn-action {
            padding: 6px 12px;
            border-radius: 6px;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
        }
        
        .floating-btn-secondary {
            background: #f8f9fa;
            color: #666;
        }
        
        .floating-btn-secondary:hover {
            background: #e9ecef;
            transform: translateY(-1px);
        }
        
        .floating-btn-primary {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
        }
        
        .floating-btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.4);
        }
        
        /* åé¦ˆè¡¨å•æ ·å¼ */
        .feedback-tool-info {
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.1) 0%, rgba(32, 201, 151, 0.1) 100%);
            border: 1px solid rgba(40, 167, 69, 0.2);
            border-radius: 8px;
            padding: 10px 12px;
            margin-bottom: 14px;
            font-size: 13px;
            color: #333;
            line-height: 1.4;
        }
        
        .feedback-section {
            margin-bottom: 14px;
        }
        
        .feedback-label {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 6px;
            display: block;
            color: #333;
        }
        
        .feedback-type-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 6px;
        }
        
        .feedback-type-item {
            position: relative;
        }
        
        .feedback-type-input {
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .feedback-type-btn {
            display: block;
            width: 100%;
            padding: 6px 10px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: white;
            color: #666;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
            font-weight: 500;
        }
        
        .feedback-type-input:checked + .feedback-type-btn {
            border-color: #28a745;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }
        
        .feedback-type-btn:hover {
            border-color: #28a745;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.2);
        }
        
        .feedback-textarea-wrapper {
            position: relative;
        }
        
        .feedback-textarea {
            width: 100%;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 10px;
            font-size: 14px;
            line-height: 1.4;
            resize: none;
            transition: border-color 0.3s ease;
            font-family: inherit;
        }
        
        .feedback-textarea:focus {
            outline: none;
            border-color: #28a745;
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);
        }
        
        .feedback-char-count {
            position: absolute;
            bottom: 8px;
            right: 12px;
            font-size: 12px;
            color: #999;
            background: rgba(255, 255, 255, 0.9);
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .feedback-hint {
            margin-top: 6px;
            font-size: 12px;
            color: #666;
            line-height: 1.4;
        }
        
        .feedback-notice {
            margin-top: 10px;
            padding: 8px 12px;
            background: rgba(40, 167, 69, 0.1);
            border-radius: 6px;
            font-size: 12px;
            color: #666;
            line-height: 1.4;
        }
        
        .feedback-link {
            color: #28a745;
            text-decoration: none;
            font-weight: 500;
        }
        
        .feedback-link:hover {
            text-decoration: underline;
        }
        
        /* åˆ†äº«èœå•æ ·å¼ */
        .share-menu {
            background: white;
            border-radius: 20px;
            padding: 32px;
            text-align: center;
            max-width: 480px;
            width: 100%;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.15);
        }
        
        .share-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: #1a1a1a;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .share-subtitle {
            font-size: 0.95rem;
            color: #666;
            margin-bottom: 32px;
            font-weight: 400;
        }
        
        /* åˆ†äº«æ¸ é“æ ‡é¢˜æ ·å¼ */
        .share-channels-header {
            text-align: center;
            margin: 24px 0 16px 0;
        }
        
        .share-channels-title {
            color: #2c3e50;
            font-weight: 600;
            font-size: 1rem;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .share-channels-title i {
            color: #28a745;
            font-size: 1.1rem;
        }
        
        .share-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 20px;
            padding: 16px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }
        
        .share-buttons .share-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            position: relative;
            overflow: hidden;
            min-height: 36px;
        }
        
        .share-buttons .share-btn i {
            font-size: 14px;
            flex-shrink: 0;
        }
        
        .share-buttons .share-btn span {
            white-space: nowrap;
        }
        

        
        .share-btn.x-twitter {
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .share-btn.x-twitter:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }
        

        
        /* X å›¾æ ‡æ ·å¼ */
        .x-icon-container {
            background: #000000;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            min-width: 18px;
            min-height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0;
            flex-shrink: 0;
        }
        
        .x-icon {
            color: white;
            width: 12px;
            height: 12px;
        }
        
        .share-btn.weibo {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        
        .share-btn.weibo:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }
        

        
        
        /* GitHub åˆ†äº«æŒ‰é’® */
        .share-btn.github {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        
        .share-btn.github:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }
        
        /* Reddit åˆ†äº«æŒ‰é’® */
        .share-btn.reddit {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        
        .share-btn.reddit:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }
        
        /* LinkedIn åˆ†äº«æŒ‰é’® */
        .share-btn.linkedin {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        
        .share-btn.linkedin:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }
        

        
        /* WhatsApp åˆ†äº«æŒ‰é’® */
        .share-btn.whatsapp {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        
        .share-btn.whatsapp:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }
        
        /* Telegram åˆ†äº«æŒ‰é’® */
        .share-btn.telegram {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        
        .share-btn.telegram:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }
        
        /* å¾®ä¿¡åˆ†äº«æŒ‰é’® */
        .share-btn.wechat {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        
        .share-btn.wechat:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }
        
        /* QQåˆ†äº«æŒ‰é’® */
        .share-btn.qq {
            background: linear-gradient(135deg, #12B7F5 0%, #0084FF 100%);
            box-shadow: 0 4px 15px rgba(18, 183, 245, 0.3);
        }
        
        .share-btn.qq:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(18, 183, 245, 0.4);
        }
        
        .share-btn i {
            font-size: 12px;
        }
        
        .share-divider {
            margin: 16px 0 8px 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, #e9ecef, transparent);
        }
        
        .share-close-section {
            text-align: center;
            padding: 4px 0;
        }
        
        .share-info {
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.05) 0%, rgba(32, 201, 151, 0.05) 100%);
            border: 1px solid rgba(40, 167, 69, 0.1);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 24px;
            text-align: left;
        }
        
        .share-info-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .share-info-content {
            color: #666;
            font-size: 13px;
            line-height: 1.4;
        }
        

        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to { 
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        
        /* å“åº”å¼ä¼˜åŒ– */
        @media (max-width: 768px) {
            /* æµ®åŠ¨æŒ‰é’®æ ·å¼å·²åœ¨ä¸Šé¢ç»Ÿä¸€å®šä¹‰ï¼Œè¿™é‡Œä¸å†é‡å¤ */
            
            .share-channels-header {
                margin: 20px 0 12px 0;
            }
            
            .share-channels-title {
                font-size: 0.9rem;
            }
            
            .share-buttons {
                grid-template-columns: repeat(3, 1fr);
                gap: 6px;
                padding: 12px;
            }
            
            .share-buttons .share-btn {
                padding: 6px 8px;
                font-size: 9px;
                gap: 4px;
                min-height: 32px;
            }
            
            .share-buttons .share-btn i {
                font-size: 10px;
            }
            
            .share-buttons .share-btn .x-icon-container {
                width: 14px;
                height: 14px;
                min-width: 14px;
                min-height: 14px;
            }
            
            .share-buttons .share-btn .x-icon {
                width: 10px;
                height: 10px;
            }
            
            .floating-overlay {
                padding: 10px;
            }
            
            .floating-panel {
                max-height: 95vh;
            }
            
            .floating-header {
                padding: 16px 20px 12px;
            }
            
            .floating-body {
                padding: 20px;
            }
            
            .floating-footer {
                padding: 16px 20px 20px;
            }
            
            .feedback-type-grid {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            }
            
            .share-menu {
                padding: 24px;
                max-width: 90vw;
            }
            
            .share-title {
                font-size: 1.25rem;
            }
            
            .share-subtitle {
                font-size: 0.9rem;
                margin-bottom: 24px;
            }
            
            
            .share-info {
                padding: 12px;
                margin-bottom: 20px;
            }
            
            .share-close-section {
                padding: 2px 0;
            }
            
            .floating-btn-action {
                padding: 4px 8px;
                font-size: 11px;
            }
        }
    </style>
    
    <!-- æ€§èƒ½ä¼˜åŒ– -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="referrer" content="origin-when-cross-origin">
    
    <!-- DNS é¢„è§£æä¼˜åŒ– -->
    <!-- <link rel="dns-prefetch" href="//www.googletagmanager.com"> -->
    <!-- <link rel="dns-prefetch" href="//pagead2.googlesyndication.com"> -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    
    <!-- èµ„æºé¢„è¿æ¥ -->
    <!-- <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin> -->
    <!-- <link rel="preconnect" href="https://pagead2.googlesyndication.com" crossorigin> -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://deepseek.idoxu.com/qinci/daoshi.html">
    <meta property="og:title" content="91é¢„æµ‹">
    <meta property="og:description" content="ğŸ¯ 91 91ç‹¬å®¶é¢„æµ‹ â€¢ æ•°æ®æ¥æºï¼šJND28å®˜æ–¹å¼€å¥–è®°å½• âš ï¸ æ•°æ®ä»…ä¾›å‚è€ƒ ä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®">
    
    <meta property="og:image" content="http://deepseek.idoxu.com/static/dkfile-logo.png">
    
    <meta property="og:site_name" content="DKFile - å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å° | Free HTML Website Hosting">
    <meta property="og:locale" content="zh_CN">
    <meta property="og:updated_time" content="2026-01-09T17:51:00.325166">
    <meta property="article:author" content="qinci">
    <meta property="article:published_time" content="2026-01-09T17:51:00.325166">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="http://deepseek.idoxu.com/qinci/daoshi.html">
    <meta property="twitter:title" content="91é¢„æµ‹">
    <meta property="twitter:description" content="ğŸ¯ 91 91ç‹¬å®¶é¢„æµ‹ â€¢ æ•°æ®æ¥æºï¼šJND28å®˜æ–¹å¼€å¥–è®°å½• âš ï¸ æ•°æ®ä»…ä¾›å‚è€ƒ ä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®">
    
    <meta property="twitter:image" content="http://deepseek.idoxu.com/static/dkfile-logo.png">
    <meta property="twitter:image:alt" content="DKFile - å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å° | Free HTML Website Hosting Logo">
    
    <meta property="twitter:creator" content="@qinci">
    <meta property="twitter:site" content="@DKFile">
    
    <!-- ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "91é¢„æµ‹",
        "description": "ğŸ¯ 91 91ç‹¬å®¶é¢„æµ‹ â€¢ æ•°æ®æ¥æºï¼šJND28å®˜æ–¹å¼€å¥–è®°å½• âš ï¸ æ•°æ®ä»…ä¾›å‚è€ƒ ä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®",
        "url": "http://deepseek.idoxu.com/qinci/daoshi.html",
        "headline": "91é¢„æµ‹",
        "wordCount": 202,
        "author": {
            "@type": "Person",
            "name": "qinci",
            "url": "http://deepseek.idoxu.com/#user-qinci"
        },
        "publisher": {
            "@type": "Organization",
            "name": "DKFile - å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å° | Free HTML Website Hosting",
            "url": "http://deepseek.idoxu.com/",
            "logo": {
                "@type": "ImageObject",
                "url": "http://deepseek.idoxu.com/static/dkfile-logo.png",
                "width": 200,
                "height": 200
            }
        },
        "datePublished": "2026-01-09T17:51:00.325166",
        "dateModified": "2026-01-09T17:51:00.325166",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http://deepseek.idoxu.com/qinci/daoshi.html"
        },
        "isPartOf": {
            "@type": "WebSite",
            "name": "DKFile - å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å° | Free HTML Website Hosting",
            "url": "http://deepseek.idoxu.com/",
            "description": "DKFileæ˜¯ä¸“ä¸šçš„å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å°ï¼Œæ”¯æŒAIç¼–ç¨‹å’ŒDeepSeekä»£ç ç”Ÿæˆã€‚æ— éœ€åŸŸåå’ŒæœåŠ¡å™¨ï¼Œæ‰‹æœºä¸Šéšæ—¶éšåœ°ç¼–ç¨‹ï¼Œä¸€é”®ä¸Šä¼ HTMLæ–‡ä»¶å³å¯è·å¾—å…¬ç½‘è®¿é—®é“¾æ¥ã€‚DKFileä¸ºå¼€å‘è€…ã€å­¦ç”Ÿå’Œè®¾è®¡å¸ˆæä¾›é›¶é—¨æ§›çš„ç½‘é¡µå‘å¸ƒæœåŠ¡ï¼Œé›†æˆAIç¼–ç¨‹åŠ©æ‰‹ï¼Œè®©æ‚¨çš„é¡¹ç›®ç¬é—´å±•ç¤ºç»™å…¨ä¸–ç•Œã€‚"
        },
        "inLanguage": "zh-CN",
        "potentialAction": {
            "@type": "ReadAction",
            "target": "http://deepseek.idoxu.com/qinci/daoshi.html"
        }
    }
    </script>
    
    <!-- é¢åŒ…å±‘å¯¼èˆªç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "DKFile - å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å° | Free HTML Website Hosting",
                "item": "http://deepseek.idoxu.com/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "qinci",
                "item": "http://deepseek.idoxu.com/#user-qinci"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "91é¢„æµ‹",
                "item": "http://deepseek.idoxu.com/qinci/daoshi.html"
            }
        ]
    }
    </script>
    
    <!-- ç½‘ç«™å›¾æ ‡ -->
    <link rel="icon" href="/static/dkfile-logo.png" type="image/png">
    <link rel="apple-touch-icon" href="/static/dkfile-logo.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/static/dkfile-logo.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/static/dkfile-logo.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/static/dkfile-logo.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/static/dkfile-logo.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/static/dkfile-logo.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/static/dkfile-logo.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/static/dkfile-logo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/dkfile-logo.png">
    <link rel="shortcut icon" href="/static/dkfile-logo.png" type="image/png">
    
    <!-- è§„èŒƒé“¾æ¥ -->
    <link rel="canonical" href="http://deepseek.idoxu.com/qinci/daoshi.html">
    
    <!-- å¹³å°é“¾æ¥ -->
    <link rel="alternate" type="text/html" href="http://deepseek.idoxu.com/" title="DKFile - å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å° | Free HTML Website Hosting">
    
    <!-- é¢„åŠ è½½å…³é”®èµ„æº -->
    <link rel="preconnect" href="http://deepseek.idoxu.com/">
    
    <style>
        /* å¹³å°æ ‡è¯†å†…éƒ¨æ ·å¼ - ä¿ç•™ç”¨äºå‘åå…¼å®¹ï¼ˆå¦‚æœå­˜åœ¨æ—§çš„å¹³å°æ ‡è¯†å…ƒç´ ï¼‰ */
        #dkfile-platform-footer,
        .platform-footer {
            position: relative !important;
            bottom: auto !important;
            right: auto !important;
            left: auto !important;
            top: auto !important;
            padding: 8px 12px !important;
            background: transparent !important;
            display: flex !important;
            justify-content: flex-end !important;
            align-items: center !important;
            gap: 0 !important;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
            text-align: right !important;
            z-index: 2147483645 !important; /* ä½¿ç”¨éå¸¸é«˜çš„z-indexï¼Œä»…æ¬¡äºå¼¹çª—ï¼Œç¡®ä¿ä¸è¢«ç”¨æˆ·å†…å®¹é®æŒ¡ */
            margin: 0 !important; /* ç§»é™¤marginï¼Œè®©å®¹å™¨æ§åˆ¶å¯¹é½ */
            width: auto !important;
            max-width: none !important;
            min-width: auto !important;
            height: auto !important;
            min-height: auto !important;
            max-height: none !important;
            font-size: 12px !important;
            color: #999 !important;
            line-height: 1.5 !important;
            transform: none !important;
            opacity: 1 !important;
            visibility: visible !important;
            pointer-events: auto !important;
            overflow: visible !important;
            box-sizing: border-box !important;
            clear: both !important;
            float: none !important;
            flex-shrink: 0 !important; /* é˜²æ­¢è¢«å‹ç¼© */
        }
        
        /* é˜²æ­¢ç”¨æˆ·å†…å®¹è¦†ç›–å¹³å°æ ‡è¯†æ ·å¼ - ä½¿ç”¨æœ€é«˜ä¼˜å…ˆçº§ */
        .content-wrapper .platform-footer,
        .content-wrapper #dkfile-platform-footer,
        #dkfile-platform-footer,
        body > #dkfile-platform-footer,
        html > body > #dkfile-platform-footer,
        body > .platform-footer,
        html > body > .platform-footer,
        body:last-child > .platform-footer,
        body body ~ .platform-footer,
        .content-wrapper ~ .platform-footer,
        .content-wrapper ~ #dkfile-platform-footer,
        div.platform-footer,
        .platform-footer[class="platform-footer"] {
            position: relative !important;
            bottom: auto !important;
            right: auto !important;
            left: auto !important;
            top: auto !important;
            z-index: 2147483645 !important; /* ä½¿ç”¨éå¸¸é«˜çš„z-indexï¼Œä»…æ¬¡äºå¼¹çª—ï¼Œç¡®ä¿ä¸è¢«ç”¨æˆ·å†…å®¹é®æŒ¡ */
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
            pointer-events: auto !important;
            transform: none !important;
            margin: 20px 0 10px 0 !important;
            padding: 8px 12px !important;
            width: auto !important;
            max-width: none !important;
            justify-content: flex-end !important;
            text-align: right !important;
            align-items: center !important;
        }
        
        /* å¹³å°æ ‡è¯†æ–‡å­—æ ·å¼ - ä½¿ç”¨é«˜ä¼˜å…ˆçº§é€‰æ‹©å™¨é˜²æ­¢ç”¨æˆ·è¦†ç›– */
        #dkfile-platform-footer span,
        .content-wrapper #dkfile-platform-footer span,
        .platform-footer[id*="dkfile-platform-footer"] span {
            color: #999 !important;
            font-size: 12px !important;
            font-weight: 400 !important;
        }
        
        #dkfile-platform-footer a,
        .content-wrapper #dkfile-platform-footer a,
        .platform-footer[id*="dkfile-platform-footer"] a {
            color: #999 !important;
            text-decoration: none !important;
            font-weight: 400 !important;
            font-size: 12px !important;
            transition: color 0.2s ease !important;
            margin: 0 2px !important;
        }
        
        #dkfile-platform-footer a:hover,
        .content-wrapper #dkfile-platform-footer a:hover,
        .platform-footer[id*="dkfile-platform-footer"] a:hover {
            color: #666 !important;
        }
        
        #dkfile-platform-footer a:active,
        .content-wrapper #dkfile-platform-footer a:active,
        .platform-footer[id*="dkfile-platform-footer"] a:active {
            color: #999 !important;
        }
        
        /* æŠ€æœ¯æ”¯æŒé“¾æ¥ - æ™ºèƒ½é…è‰²ï¼šæ ¹æ®èƒŒæ™¯è‡ªåŠ¨è°ƒæ•´ */
        /* é‡‡ç”¨ç°ä»£UIè®¾è®¡è§„èŒƒï¼Œç¡®ä¿å¯¹æ¯”åº¦å’Œå¯è®¿é—®æ€§ */
        .platform-footer a.tech-support-link {
            /* é»˜è®¤ç»¿è‰²ï¼Œä½†ä¼šè¢«JavaScriptåŠ¨æ€è¦†ç›– */
            color: #28a745 !important;
            transition: color 0.3s ease !important;
        }
        
        .platform-footer a.tech-support-link:hover {
            /* hoveré¢œè‰²ä¼šåœ¨JavaScriptä¸­åŠ¨æ€è®¡ç®— */
            transition: color 0.3s ease !important;
        }
        
        .platform-footer a.tech-support-link:active {
            color: inherit !important;
        }
        
        /* æµ…è‰²èƒŒæ™¯æ¨¡å¼ - æ·±è‰²æ–‡å­—ï¼ˆä¸“ä¸šé…è‰²æ–¹æ¡ˆï¼‰ */
        /* ç¬¦åˆWCAG AAçº§å¯¹æ¯”åº¦æ ‡å‡†ï¼Œç¡®ä¿è‰¯å¥½çš„å¯è¯»æ€§ */
        .platform-footer.adaptive-light {
            color: #333 !important; /* æ·±ç°è‰²ï¼Œåœ¨æµ…è‰²èƒŒæ™¯ä¸Šæ¸…æ™°æ˜“è¯» */
        }
        
        .platform-footer.adaptive-light span {
            color: #666 !important; /* ä¸­ç­‰ç°è‰²ï¼Œè¥é€ è§†è§‰å±‚æ¬¡ */
        }
        
        .platform-footer.adaptive-light a {
            color: #28a745 !important; /* å“ç‰Œç»¿è‰²ï¼Œä¿æŒä¸€è‡´æ€§ */
        }
        
        .platform-footer.adaptive-light a.tech-support-link {
            color: #28a745 !important; /* æ ‡å‡†ç»¿è‰²ï¼Œä¸å“ç‰Œè‰²ä¸€è‡´ */
        }
        
        .platform-footer.adaptive-light a.tech-support-link:hover {
            color: #218838 !important; /* æ·±ç»¿è‰²hoverçŠ¶æ€ï¼Œæä¾›æ¸…æ™°åé¦ˆ */
        }
        
        /* æ·±è‰²èƒŒæ™¯æ¨¡å¼ - æµ…è‰²æ–‡å­—ï¼ˆä¸“ä¸šé…è‰²æ–¹æ¡ˆï¼‰ */
        .platform-footer.adaptive-dark {
            /* ä½¿ç”¨æŸ”å’Œçš„ç™½è‰²ï¼Œé¿å…è¿‡å¼ºå¯¹æ¯” */
            color: rgba(255, 255, 255, 0.85) !important;
        }
        
        .platform-footer.adaptive-dark span {
            /* æ¬¡è¦æ–‡å­—ä½¿ç”¨ç¨ä½çš„é€æ˜åº¦ï¼Œè¥é€ å±‚æ¬¡æ„Ÿ */
            color: rgba(255, 255, 255, 0.75) !important;
        }
        
        .platform-footer.adaptive-dark a {
            /* é“¾æ¥æ–‡å­—ä¿æŒè¾ƒé«˜çš„å¯è¯»æ€§ */
            color: rgba(255, 255, 255, 0.9) !important;
        }
        
        .platform-footer.adaptive-dark a.tech-support-link {
            /* åœ¨æ·±è‰²èƒŒæ™¯ä¸Šä½¿ç”¨äº®ç»¿è‰²ï¼Œæ—¢é†’ç›®åˆä¸èƒŒæ™¯è‰²è°ƒå’Œè° */
            color: #6ee7b7 !important; /* æŸ”å’Œçš„äº®ç»¿è‰²ï¼Œç¬¦åˆç°ä»£UIè®¾è®¡è§„èŒƒ */
        }
        
        .platform-footer.adaptive-dark a.tech-support-link:hover {
            /* hoveræ—¶ä½¿ç”¨æ›´äº®çš„ç»¿è‰²ï¼Œæä¾›æ¸…æ™°çš„äº¤äº’åé¦ˆ */
            color: #a7f3d0 !important; /* æ›´äº®çš„ç»¿è‰²ï¼Œç¡®ä¿å¯è®¿é—®æ€§ */
        }
        
        /* ä¿ç•™åŸæœ‰æ ·å¼ä»¥å…¼å®¹å…¶ä»–å¯èƒ½çš„å¼•ç”¨ */
        .footer-brand a {
            color: #999;
            text-decoration: none;
            font-weight: 400;
            font-size: 13px;
            letter-spacing: 0.2px;
            transition: color 0.2s ease;
        }
        
        .footer-brand a:hover {
            color: #666;
        }
        
        .footer-divider {
            width: 1px;
            height: 14px;
            background: rgba(0, 0, 0, 0.1);
        }
        
        .footer-support {
            position: relative;
        }
        
        .footer-support a {
            color: #999;
            text-decoration: none;
            font-size: 12px;
            font-weight: 400;
            padding: 0;
            background: transparent;
            border: none;
            transition: color 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        
        .footer-support a::before {
            content: "ğŸ› ï¸";
            font-size: 11px;
            opacity: 0.6;
        }
        
        .footer-support a:hover {
            color: #666;
        }
        
        .footer-support a:active {
            color: #999;
        }
        
        /* æˆ‘çš„æ”¶è—é“¾æ¥æ ·å¼ */
        .footer-favorites a {
            color: #999;
            text-decoration: none;
            font-size: 12px;
            font-weight: 400;
            padding: 0;
            background: transparent;
            border: none;
            transition: color 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        
        .footer-favorites a::before {
            content: "â¤ï¸";
            font-size: 11px;
            opacity: 0.6;
        }
        
        .footer-favorites a:hover {
            color: #666;
        }
        
        .footer-favorites a:active {
            color: #999;
        }
        
        /* è¦†ç›–base.htmlä¸­çš„padding-bottomè®¾ç½® */
        /* æ³¨æ„ï¼šbodyçš„positionä¸èƒ½æ˜¯fixedæˆ–absoluteï¼Œå¦åˆ™ä¼šå½±å“å­å…ƒç´ çš„fixedå®šä½ */
        body {
            padding-bottom: 0 !important;
            overflow-x: visible !important;
            overflow-y: visible !important;
            /* ç§»é™¤position: relativeï¼Œé¿å…å½±å“fixedå®šä½ */
            /* position: relative !important; */
        }
        
        /* ç¡®ä¿htmlæ ‡ç­¾ä¸ä¼šé˜»æ­¢fixedå®šä½ */
        html {
            overflow-x: visible !important;
            overflow-y: visible !important;
        }
        
        /* æ ·å¼éš”ç¦»ï¼šç¡®ä¿å¹³å°æ ‡è¯†åœ¨content-wrapperå†…éƒ¨ï¼Œå›ºå®šåœ¨å†…å®¹åº•éƒ¨å³ä¸‹è§’ */
        /* ä½¿ç”¨æœ€é«˜ä¼˜å…ˆçº§é€‰æ‹©å™¨ï¼Œé˜²æ­¢ç”¨æˆ·ä»£ç è¦†ç›– */
        .content-wrapper > #dkfile-platform-footer,
        .content-wrapper > .platform-footer,
        html > body > .content-wrapper > #dkfile-platform-footer,
        html > body > .content-wrapper > .platform-footer,
        body > .content-wrapper > #dkfile-platform-footer,
        body > .content-wrapper > .platform-footer {
            position: relative !important;
            bottom: auto !important;
            right: auto !important;
            left: auto !important;
            top: auto !important;
            z-index: 2147483645 !important; /* ä½¿ç”¨éå¸¸é«˜çš„z-indexï¼Œä»…æ¬¡äºå¼¹çª—ï¼Œç¡®ä¿ä¸è¢«ç”¨æˆ·å†…å®¹é®æŒ¡ */
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
            pointer-events: auto !important;
            transform: none !important;
            margin: 20px 0 10px 0 !important;
            padding: 8px 12px !important;
            width: auto !important;
            max-width: none !important;
            justify-content: flex-end !important;
            text-align: right !important;
            align-items: center !important;
        }
        
        /* å“åº”å¼è®¾è®¡ - æ‰‹æœºç«¯ */
        @media (max-width: 768px) {
            .content-wrapper {
                padding-bottom: 50px;
            }
            
            /* æ‰‹æœºç«¯æµ®åŠ¨æŒ‰é’®å®¹å™¨ - é»˜è®¤æ”¶èµ·çŠ¶æ€ */
            body > .floating-action-buttons,
            html > body > .floating-action-buttons,
            body:last-child > .floating-action-buttons,
            .content-wrapper ~ .floating-action-buttons,
            #dkfile-floating-buttons {
                bottom: 70px !important;
                right: 10px !important;
                left: auto !important;
                top: auto !important;
                gap: 0 !important; /* æ”¶èµ·æ—¶æ— é—´è· */
                flex-direction: column-reverse !important; /* ä¸»èœå•æŒ‰é’®åœ¨åº•éƒ¨ï¼Œå±•å¼€æ—¶åŠŸèƒ½æŒ‰é’®åœ¨ä¸Šæ–¹ */
                align-items: center !important; /* ç¡®ä¿æ‰€æœ‰æŒ‰é’®å‚ç›´å±…ä¸­å¯¹é½ */
                justify-content: flex-start !important;
            }
            
            /* æ‰‹æœºç«¯ä¸»èœå•æŒ‰é’® - æ˜¾ç¤ºï¼ˆä½¿ç”¨æ›´é«˜ä¼˜å…ˆçº§é€‰æ‹©å™¨ç¡®ä¿è¦†ç›–å…¨å±€éšè—è§„åˆ™ï¼‰ */
            html body #floatingMenuBtn,
            html body #dkfile-floating-buttons > #floatingMenuBtn,
            html body body > #dkfile-floating-buttons > #floatingMenuBtn,
            html body html > body > #dkfile-floating-buttons > #floatingMenuBtn,
            html body .floating-menu-btn,
            #floatingMenuBtn,
            #dkfile-floating-buttons > #floatingMenuBtn,
            body > #dkfile-floating-buttons > #floatingMenuBtn,
            html > body > #dkfile-floating-buttons > #floatingMenuBtn,
            .floating-menu-btn {
                display: flex !important;
                width: 40px !important;
                height: 40px !important;
                min-width: 40px !important;
                min-height: 40px !important;
                max-width: 40px !important;
                max-height: 40px !important;
                aspect-ratio: 1 !important;
                border-radius: 50% !important;
                background: linear-gradient(135deg, #28a745 0%, #20c997 100%) !important;
                border: none !important;
                align-items: center !important;
                justify-content: center !important;
                font-size: 18px !important;
                color: white !important;
                cursor: pointer !important;
                transition: all 0.3s ease !important;
                box-shadow: 0 2px 8px rgba(40, 167, 69, 0.4) !important;
                position: relative !important;
                z-index: 10001 !important;
                margin: 0 !important;
                padding: 0 !important;
                box-sizing: border-box !important;
                outline: none !important;
                -webkit-tap-highlight-color: transparent !important;
            }
            
            #floatingMenuBtn:hover,
            .floating-menu-btn:hover {
                transform: translateY(-1px) scale(1.05) !important;
                box-shadow: 0 4px 12px rgba(40, 167, 69, 0.5) !important;
            }
            
            #floatingMenuBtn:active,
            #floatingMenuBtn:focus,
            .floating-menu-btn:active,
            .floating-menu-btn:focus {
                transform: translateY(0) rotate(45deg) !important;
                box-shadow: 0 2px 8px rgba(40, 167, 69, 0.4) !important;
                outline: none !important;
                -webkit-tap-highlight-color: transparent !important;
            }
            
            #floatingMenuBtn.active,
            .floating-menu-btn.active {
                transform: rotate(45deg) !important;
                background: linear-gradient(135deg, #ff4757 0%, #ff6348 100%) !important;
                box-shadow: 0 2px 8px rgba(255, 71, 87, 0.4) !important;
            }
            
            /* æ‰‹æœºç«¯åŠŸèƒ½æŒ‰é’® - é»˜è®¤éšè— */
            #dkfile-floating-buttons > .floating-btn:not(.floating-menu-btn),
            #dkfile-floating-buttons .floating-btn:not(.floating-menu-btn),
            body > #dkfile-floating-buttons > .floating-btn:not(.floating-menu-btn),
            html > body > #dkfile-floating-buttons > .floating-btn:not(.floating-menu-btn),
            body > .floating-action-buttons > .floating-btn:not(.floating-menu-btn),
            html > body > .floating-action-buttons > .floating-btn:not(.floating-menu-btn),
            .floating-action-buttons .floating-btn:not(.floating-menu-btn) {
                width: 40px !important;
                height: 40px !important;
                min-width: 40px !important;
                min-height: 40px !important;
                max-width: 40px !important;
                max-height: 40px !important;
                font-size: 14px !important;
                opacity: 0 !important;
                visibility: hidden !important;
                transform: translateY(20px) scale(0.5) !important;
                pointer-events: none !important;
                transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;
            }
            
            /* æ‰‹æœºç«¯åŠŸèƒ½æŒ‰é’® - å±•å¼€çŠ¶æ€ */
            .floating-action-buttons.expanded > .floating-btn:not(.floating-menu-btn),
            #dkfile-floating-buttons.expanded > .floating-btn:not(.floating-menu-btn) {
                opacity: 1 !important;
                visibility: visible !important;
                transform: translateY(0) scale(1) !important;
                pointer-events: auto !important;
            }
            
            /* å±•å¼€æ—¶æŒ‰é’®é—´è· */
            .floating-action-buttons.expanded,
            #dkfile-floating-buttons.expanded {
                gap: 8px !important;
                align-items: flex-end !important;
            }
            
            /* æŒ‰é’®å±•å¼€åŠ¨ç”»å»¶è¿Ÿ */
            .floating-action-buttons.expanded > .floating-btn:nth-child(2),
            #dkfile-floating-buttons.expanded > .floating-btn:nth-child(2) {
                transition-delay: 0.05s !important;
            }
            
            .floating-action-buttons.expanded > .floating-btn:nth-child(3),
            #dkfile-floating-buttons.expanded > .floating-btn:nth-child(3) {
                transition-delay: 0.1s !important;
            }
            
            .floating-action-buttons.expanded > .floating-btn:nth-child(4),
            #dkfile-floating-buttons.expanded > .floating-btn:nth-child(4) {
                transition-delay: 0.15s !important;
            }
            
            .floating-action-buttons.expanded > .floating-btn:nth-child(5),
            #dkfile-floating-buttons.expanded > .floating-btn:nth-child(5) {
                transition-delay: 0.2s !important;
            }
            
            .floating-action-buttons.expanded > .floating-btn:nth-child(6),
            #dkfile-floating-buttons.expanded > .floating-btn:nth-child(6) {
                transition-delay: 0.25s !important;
            }
        }
        
        /* PCç«¯éšè—ä¸»èœå•æŒ‰é’® */
        @media (min-width: 769px) {
            #floatingMenuBtn,
            #dkfile-floating-buttons > #floatingMenuBtn,
            body > #dkfile-floating-buttons > #floatingMenuBtn,
            html > body > #dkfile-floating-buttons > #floatingMenuBtn,
            .floating-menu-btn {
                display: none !important;
            }
            
            /* PCç«¯å§‹ç»ˆæ˜¾ç¤ºæ‰€æœ‰åŠŸèƒ½æŒ‰é’® */
            #dkfile-floating-buttons > .floating-btn:not(.floating-menu-btn),
            #dkfile-floating-buttons .floating-btn:not(.floating-menu-btn) {
                opacity: 1 !important;
                visibility: visible !important;
                transform: scale(1) translateY(0) !important;
                pointer-events: auto !important;
            }
        }
        
        @media (max-width: 768px) {
            
            #dkfile-floating-buttons > .floating-btn,
            #dkfile-floating-buttons .floating-btn,
            body > #dkfile-floating-buttons > .floating-btn,
            html > body > #dkfile-floating-buttons > .floating-btn,
            body > .floating-action-buttons > .floating-btn,
            html > body > .floating-action-buttons > .floating-btn,
            .floating-action-buttons .floating-btn {
                width: 36px !important;
                height: 36px !important;
                min-width: 36px !important;
                min-height: 36px !important;
                max-width: 36px !important;
                max-height: 36px !important;
                font-size: 12px !important;
            }
            
            /* æ‰‹æœºç«¯å·²ç‚¹èµå’Œå·²æ”¶è—çŠ¶æ€ - çº¢è‰²é€‰ä¸­æ•ˆæœ */
            #dkfile-floating-buttons .floating-btn.like-btn.liked,
            .floating-action-buttons .floating-btn.like-btn.liked {
                background: #ff4757 !important;
                color: white !important;
            }
            
            #dkfile-floating-buttons .floating-btn.like-btn.liked i,
            .floating-action-buttons .floating-btn.like-btn.liked i {
                color: white !important;
            }
            
            #dkfile-floating-buttons .floating-btn.favorite-btn.favorited,
            .floating-action-buttons .floating-btn.favorite-btn.favorited {
                background: #ff4757 !important;
                color: white !important;
            }
            
            #dkfile-floating-buttons .floating-btn.favorite-btn.favorited i,
            .floating-action-buttons .floating-btn.favorite-btn.favorited i {
                color: white !important;
            }
            
            .platform-footer span {
                font-size: 11px;
            }
            
            .platform-footer a {
                font-size: 11px;
            }
            
            .footer-brand a {
                font-size: 12px;
            }
            
            .footer-support a {
                font-size: 11px;
                gap: 3px;
            }
            
            .footer-support a::before {
                font-size: 10px;
            }
            
            .footer-favorites a {
                font-size: 11px;
                gap: 3px;
            }
            
            .footer-favorites a::before {
                font-size: 10px;
            }
        }
        
        /* åŠŸèƒ½æŒ‰é’®æ ·å¼ */
        .action-buttons-container {
            position: fixed;
            bottom: 80px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .action-btn {
            width: 48px;
            height: 48px;
            border: none;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        }
        
        .action-btn i {
            font-size: 16px;
            margin-bottom: 3px;
        }
        
        .action-btn .btn-text {
            font-size: 9px;
            font-weight: 600;
            line-height: 1;
        }
        
        .like-btn {
            color: #ff4757;
            background: rgba(255, 71, 87, 0.05);
        }
        
        .like-btn:hover {
            background: rgba(255, 71, 87, 0.1);
            color: #ff4757;
        }
        
        .like-btn.liked {
            background: #ff4757;
            color: white;
        }
        
        .favorite-btn {
            color: #ffa502;
            background: rgba(255, 165, 2, 0.05);
        }
        
        .favorite-btn:hover {
            background: rgba(255, 165, 2, 0.1);
            color: #ffa502;
        }
        
        .favorite-btn.favorited {
            background: #ffa502;
            color: white;
        }
        
        .share-buttons .share-btn {
            color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }
        
        .share-buttons .share-btn:hover {
            transform: translateY(-2px);
            background: rgba(40, 167, 69, 0.2);
        }
        
        .feedback-btn {
            color: #a55eea;
            background: rgba(165, 94, 234, 0.05);
        }
        
        .feedback-btn:hover {
            background: rgba(165, 94, 234, 0.1);
            color: #a55eea;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .action-buttons-container {
                bottom: 100px;
                right: 15px;
            }
            
            .action-btn {
                width: 38px;
                height: 38px;
            }
            
            .action-btn i {
                font-size: 14px;
            }
            
            .action-btn .btn-text {
                font-size: 8px;
            }
        }
        

        

    </style>
    
    <!-- å…³é”®æ•°æ®åˆå§‹åŒ– - åœ¨ç”¨æˆ·å†…å®¹åŠ è½½å‰åˆå§‹åŒ–ï¼Œç¡®ä¿å³ä½¿ç”¨æˆ·å†…å®¹æœ‰é”™è¯¯ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ -->
    
    <script>
        // åœ¨headä¸­åˆå§‹åŒ–pageDataï¼Œç¡®ä¿å³ä½¿ç”¨æˆ·å†…å®¹æœ‰é”™è¯¯ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ
        try {
            window.pageData = {"author": "qinci", "fileId": 18874, "fileName": "daoshi.html", "projectName": "daoshi"};
            window.currentUserAuthenticated = false;
        } catch (error) {
            window.pageData = window.pageData || {};
            window.currentUserAuthenticated = window.currentUserAuthenticated || false;
        }
    </script>
    
    <!-- å…³é”®å‡½æ•°å®šä¹‰ - åœ¨ç”¨æˆ·å†…å®¹åŠ è½½å‰å®šä¹‰ï¼Œé˜²æ­¢è¢«è¦†ç›– -->
    <!-- ä½¿ç”¨ç‹¬ç«‹çš„scriptæ ‡ç­¾å’Œé”™è¯¯éš”ç¦»ï¼Œç¡®ä¿å³ä½¿ç”¨æˆ·å†…å®¹æœ‰é”™è¯¯ï¼Œå¹³å°åŠŸèƒ½ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ -->
    <script>
        // ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰å’Œé”™è¯¯éš”ç¦»ï¼Œä¿æŠ¤å¹³å°å…³é”®åŠŸèƒ½
        (function() {
            'use strict';
            
            // å®šä¹‰åŸºç¡€å·¥å…·å‡½æ•°ï¼ˆåœ¨ç”¨æˆ·å†…å®¹åŠ è½½å‰å°±å¯ç”¨ï¼‰
            window.logClick = window.logClick || function(type) {
                try {
                    // å®é™…çš„æ—¥å¿—è®°å½•ä¼šåœ¨é¡µé¢åŠ è½½å®Œæˆåå®ç°
                } catch (e) {
                    // é™é»˜å¤„ç†é”™è¯¯
                }
            };
            
            window.showToast = window.showToast || function(message) {
                try {
                    const toast = document.createElement('div');
                    toast.style.cssText = 'position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(0, 0, 0, 0.9); color: white; padding: 12px 24px; border-radius: 8px; z-index: 9999999999; font-size: 14px; font-weight: 500; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); pointer-events: auto;';
                    toast.textContent = message;
                    document.body.appendChild(toast);
                    setTimeout(() => toast.remove(), 3000);
                } catch (e) {
                    console.error('Toastæ˜¾ç¤ºå¤±è´¥:', e);
                    alert(message);
                }
            };
            
            // å®šä¹‰å…³é”®å‡½æ•°çš„å®Œæ•´å®ç°ï¼ˆåœ¨ç”¨æˆ·å†…å®¹åŠ è½½å‰å°±å®šä¹‰å¥½ï¼‰
            // è¿™æ ·å³ä½¿ç”¨æˆ·å†…å®¹æœ‰è¯­æ³•é”™è¯¯ï¼Œè¿™äº›å‡½æ•°ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ
            window.handleLike = function() {
                try {
                    logClick('like_click');
                    
                    // æ£€æŸ¥æ˜¯å¦ç™»å½•ï¼ˆä¼˜å…ˆä½¿ç”¨windowä¸Šçš„å˜é‡ï¼‰
                    const isAuthenticated = typeof window.currentUserAuthenticated !== 'undefined' 
                        ? window.currentUserAuthenticated 
                        : (typeof currentUserAuthenticated !== 'undefined' ? currentUserAuthenticated : false);
                    
                    if (!isAuthenticated) {
                        showToast('è¯·å…ˆç™»å½•åå†ç‚¹èµ');
                        setTimeout(() => {
                            window.location.href = '/login';
                        }, 1500);
                        return;
                    }
                    
                    // è·å–æ–‡ä»¶IDï¼ˆä¼˜å…ˆä½¿ç”¨headä¸­åˆå§‹åŒ–çš„pageDataï¼‰
                    const getFileId = function() {
                        // ä¼˜å…ˆä½¿ç”¨å…¨å±€pageDataï¼ˆå·²åœ¨headä¸­åˆå§‹åŒ–ï¼‰
                        if (typeof window.pageData !== 'undefined' && window.pageData && window.pageData.fileId) {
                            return window.pageData.fileId;
                        }
                        // å…¼å®¹æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœpageDataä¸åœ¨windowä¸Šï¼‰
                        if (typeof pageData !== 'undefined' && pageData && pageData.fileId) {
                            return pageData.fileId;
                        }
                        // å°è¯•ä½¿ç”¨getValidPageDataå‡½æ•°ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
                        if (typeof getValidPageData === 'function') {
                            try {
                                const validData = getValidPageData();
                                if (validData && validData.fileId) {
                                    return validData.fileId;
                                }
                            } catch (e) {
                                // é™é»˜å¤„ç†é”™è¯¯
                            }
                        }
                        // å°è¯•ä»URLè§£æï¼ˆä½œä¸ºæœ€åæ‰‹æ®µï¼‰
                        try {
                            const pathParts = window.location.pathname.split('/').filter(p => p);
                            if (pathParts.length >= 2) {
                                // æ ¼å¼: /username/filename.html
                                // éœ€è¦é€šè¿‡APIè·å–æ–‡ä»¶IDï¼Œè¿™é‡Œå…ˆè¿”å›null
                                return null;
                            }
                        } catch (e) {
                            // é™é»˜å¤„ç†é”™è¯¯
                        }
                        return null;
                    };
                    
                    const fileId = getFileId();
                    if (!fileId) {
                        showToast('æ–‡ä»¶ä¿¡æ¯å¼‚å¸¸ï¼Œæ— æ³•æ‰§è¡Œç‚¹èµæ“ä½œ');
                        return;
                    }
                    
                    fetch('/api/like', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ file_id: fileId })
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            const likeBtn = document.querySelector('.floating-btn.like-btn');
                            if (likeBtn) {
                                if (data.action === 'liked') {
                                    likeBtn.classList.add('liked');
                                    likeBtn.innerHTML = '<i class="bi bi-heart-fill"></i>';
                                } else {
                                    likeBtn.classList.remove('liked');
                                    likeBtn.innerHTML = '<i class="bi bi-heart"></i>';
                                }
                            }
                            showToast(data.message);
                        } else {
                            showToast('æ“ä½œå¤±è´¥ï¼š' + data.message);
                        }
                    })
                    .catch(error => {
                        console.error('ç‚¹èµè¯·æ±‚å¤±è´¥:', error);
                        showToast('æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');
                    });
                } catch (error) {
                    console.error('handleLikeæ‰§è¡Œé”™è¯¯:', error);
                    showToast('ç‚¹èµåŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
                }
            };
            
            window.handleFavorite = function() {
                try {
                    logClick('favorite_click');
                    
                    // æ£€æŸ¥æ˜¯å¦ç™»å½•ï¼ˆä¼˜å…ˆä½¿ç”¨windowä¸Šçš„å˜é‡ï¼‰
                    const isAuthenticated = typeof window.currentUserAuthenticated !== 'undefined' 
                        ? window.currentUserAuthenticated 
                        : (typeof currentUserAuthenticated !== 'undefined' ? currentUserAuthenticated : false);
                    
                    if (!isAuthenticated) {
                        showToast('è¯·å…ˆç™»å½•åå†æ”¶è—');
                        setTimeout(() => {
                            window.location.href = '/login';
                        }, 1500);
                        return;
                    }
                    
                    const getFileId = function() {
                        // ä¼˜å…ˆä½¿ç”¨å…¨å±€pageDataï¼ˆå·²åœ¨headä¸­åˆå§‹åŒ–ï¼‰
                        if (typeof window.pageData !== 'undefined' && window.pageData && window.pageData.fileId) {
                            return window.pageData.fileId;
                        }
                        // å…¼å®¹æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœpageDataä¸åœ¨windowä¸Šï¼‰
                        if (typeof pageData !== 'undefined' && pageData && pageData.fileId) {
                            return pageData.fileId;
                        }
                        // å°è¯•ä½¿ç”¨getValidPageDataå‡½æ•°ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
                        if (typeof getValidPageData === 'function') {
                            try {
                                const validData = getValidPageData();
                                if (validData && validData.fileId) {
                                    return validData.fileId;
                                }
                            } catch (e) {
                                // é™é»˜å¤„ç†é”™è¯¯
                            }
                        }
                        return null;
                    };
                    
                    const fileId = getFileId();
                    if (!fileId) {
                        showToast('æ–‡ä»¶ä¿¡æ¯å¼‚å¸¸ï¼Œæ— æ³•æ‰§è¡Œæ”¶è—æ“ä½œ');
                        return;
                    }
                    
                    fetch('/api/favorite', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ file_id: fileId })
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            const favoriteBtn = document.querySelector('.floating-btn.favorite-btn');
                            if (favoriteBtn) {
                                if (data.action === 'favorited') {
                                    favoriteBtn.classList.add('favorited');
                                    favoriteBtn.innerHTML = '<i class="bi bi-bookmark-fill"></i>';
                                } else {
                                    favoriteBtn.classList.remove('favorited');
                                    favoriteBtn.innerHTML = '<i class="bi bi-bookmark"></i>';
                                }
                            }
                            showToast(data.message);
                        } else {
                            showToast('æ“ä½œå¤±è´¥ï¼š' + data.message);
                        }
                    })
                    .catch(error => {
                        console.error('æ”¶è—è¯·æ±‚å¤±è´¥:', error);
                        showToast('æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');
                    });
                } catch (error) {
                    console.error('handleFavoriteæ‰§è¡Œé”™è¯¯:', error);
                    showToast('æ”¶è—åŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
                }
            };
            
            window.handleFeedback = function() {
                try {
                    logClick('feedback_click');
                    const feedbackBtn = document.querySelector('.floating-btn.feedback-btn');
                    if (feedbackBtn) {
                        feedbackBtn.style.transform = 'scale(0.9)';
                        setTimeout(() => {
                            feedbackBtn.style.transform = '';
                        }, 150);
                    }
                    const feedbackOverlay = document.getElementById('feedbackOverlay');
                    if (feedbackOverlay) {
                        // å¼ºåˆ¶è®¾ç½®æœ€é«˜ä¼˜å…ˆçº§æ ·å¼ï¼ˆä¸åˆ†äº«å¼¹çª—ä¸€è‡´ï¼‰
                        feedbackOverlay.style.setProperty('display', 'flex', 'important');
                        feedbackOverlay.style.setProperty('z-index', '2147483646', 'important');
                        feedbackOverlay.style.setProperty('position', 'fixed', 'important');
                        feedbackOverlay.style.setProperty('pointer-events', 'auto', 'important');
                        feedbackOverlay.style.setProperty('visibility', 'visible', 'important');
                        feedbackOverlay.style.setProperty('opacity', '1', 'important');
                        feedbackOverlay.style.setProperty('top', '0', 'important');
                        feedbackOverlay.style.setProperty('left', '0', 'important');
                        feedbackOverlay.style.setProperty('right', '0', 'important');
                        feedbackOverlay.style.setProperty('bottom', '0', 'important');
                        document.body.style.overflow = 'hidden';
                        
                        // ç¡®ä¿åé¦ˆå¼¹çª—å†…çš„é¢æ¿ä¹Ÿå¯è§
                        const feedbackPanel = feedbackOverlay.querySelector('.floating-panel');
                        if (feedbackPanel) {
                            feedbackPanel.style.setProperty('display', 'block', 'important');
                            feedbackPanel.style.setProperty('z-index', '2147483647', 'important');
                            feedbackPanel.style.setProperty('position', 'relative', 'important');
                            feedbackPanel.style.setProperty('visibility', 'visible', 'important');
                            feedbackPanel.style.setProperty('opacity', '1', 'important');
                        }
                        
                    } else {
                        showToast('åé¦ˆåŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
                    }
                } catch (error) {
                    console.error('handleFeedbackæ‰§è¡Œé”™è¯¯:', error);
                    showToast('åé¦ˆåŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
                }
            };
            
            // å…³é—­åé¦ˆæµ®å±‚ - åœ¨headä¸­å®šä¹‰ï¼Œç¡®ä¿å³ä½¿ç”¨æˆ·å†…å®¹æœ‰é”™è¯¯ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ
            window.closeFeedback = function() {
                try {
                    const feedbackOverlay = document.getElementById('feedbackOverlay');
                    if (feedbackOverlay) {
                        feedbackOverlay.style.setProperty('display', 'none', 'important');
                        document.body.style.overflow = '';
                    } else {
                    }
                } catch (error) {
                    // å³ä½¿å‡ºé”™ï¼Œä¹Ÿå°è¯•æ¢å¤bodyçš„overflow
                    try {
                        document.body.style.overflow = '';
                    } catch (e) {
                    }
                }
            };
            
            window.handleShare = function() {
                try {
                    logClick('share_click');
                    
                    // ä¸ä¿®æ”¹ç”¨æˆ·å†…å®¹ï¼Œåªæ˜¾ç¤ºå¹³å°åˆ†äº«å¼¹çª—
                    
                    const shareBtn = document.querySelector('.floating-btn.share-btn');
                    if (shareBtn) {
                        shareBtn.style.transform = 'scale(0.9)';
                        setTimeout(() => {
                            shareBtn.style.transform = '';
                        }, 150);
                    }
                    
                    const shareOverlay = document.getElementById('shareOverlay');
                    if (shareOverlay) {
                        // å¼ºåˆ¶è®¾ç½®æœ€é«˜ä¼˜å…ˆçº§æ ·å¼ï¼ˆç«‹å³æ‰§è¡Œï¼‰
                        shareOverlay.style.setProperty('display', 'flex', 'important');
                        shareOverlay.style.setProperty('z-index', '2147483646', 'important');
                        shareOverlay.style.setProperty('position', 'fixed', 'important');
                        shareOverlay.style.setProperty('pointer-events', 'auto', 'important');
                        shareOverlay.style.setProperty('visibility', 'visible', 'important');
                        shareOverlay.style.setProperty('opacity', '1', 'important');
                        shareOverlay.style.setProperty('top', '0', 'important');
                        shareOverlay.style.setProperty('left', '0', 'important');
                        shareOverlay.style.setProperty('right', '0', 'important');
                        shareOverlay.style.setProperty('bottom', '0', 'important');
                        document.body.style.overflow = 'hidden';
                        
                        // ç¡®ä¿åˆ†äº«å¼¹çª—å†…çš„æ‰€æœ‰å…ƒç´ ä¹Ÿå¯è§
                        const sharePanel = shareOverlay.querySelector('.floating-panel');
                        if (sharePanel) {
                            sharePanel.style.setProperty('display', 'block', 'important');
                            sharePanel.style.setProperty('z-index', '2147483647', 'important');
                            sharePanel.style.setProperty('position', 'relative', 'important');
                            sharePanel.style.setProperty('visibility', 'visible', 'important');
                            sharePanel.style.setProperty('opacity', '1', 'important');
                        }
                        
                        const shareMenu = shareOverlay.querySelector('.share-menu');
                        if (shareMenu) {
                            shareMenu.style.setProperty('display', 'block', 'important');
                            shareMenu.style.setProperty('z-index', '2147483647', 'important');
                        }
                        
                        // éªŒè¯å¼¹çª—æ˜¯å¦çœŸçš„å¯è§
                        setTimeout(() => {
                            const computedStyle = window.getComputedStyle(shareOverlay);

                            if (computedStyle.display === 'none' || computedStyle.visibility === 'hidden') {

                                shareOverlay.style.setProperty('display', 'flex', 'important');
                                shareOverlay.style.setProperty('visibility', 'visible', 'important');
                            }
                        }, 100);

                        // ç”ŸæˆäºŒç»´ç ï¼ˆå¦‚æœå‡½æ•°å­˜åœ¨ï¼‰
                        if (typeof window.generateShareQRCode === 'function') {
                            window.generateShareQRCode();
                        }
                    } else {

                        showToast('åˆ†äº«åŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
                    }
                } catch (error) {
                    console.error('handleShareæ‰§è¡Œé”™è¯¯:', error);
                    showToast('åˆ†äº«åŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
                }
            };
            
            // å…³é—­åˆ†äº«æµ®å±‚ - åœ¨headä¸­å®šä¹‰
            window.closeShare = function() {
                try {

                    const shareOverlay = document.getElementById('shareOverlay');
                    if (shareOverlay) {
                        shareOverlay.style.setProperty('display', 'none', 'important');
                        document.body.style.overflow = '';
                    }
                    
                    // ä¸ä¿®æ”¹ç”¨æˆ·å†…å®¹ï¼Œåªå…³é—­å¹³å°åˆ†äº«å¼¹çª—
                } catch (error) {

                    try {
                        document.body.style.overflow = '';
                    } catch (e) {
                        // å¿½ç•¥
                    }
                }
            };
            
            // ç”Ÿæˆåˆ†äº«äºŒç»´ç  - åœ¨headä¸­å®šä¹‰
            window.generateShareQRCode = function() {
                try {

                    const qrContainer = document.getElementById('shareQrCode');
                    if (!qrContainer) {

                        return;
                    }
                    
                    const currentUrl = window.location.href;
                    
                    // è·å–å¾®ä¿¡åŸŸåé…ç½®å¹¶æ›¿æ¢URL
                    fetch('/api/wechat-domain')
                        .then(response => {
                            if (!response.ok) {
                                throw new Error(`è·å–å¾®ä¿¡åŸŸåé…ç½®å¤±è´¥: ${response.status}`);
                            }
                            return response.json();
                        })
                        .then(data => {
                            let qrUrl = currentUrl;
                            
                            // å¦‚æœé…ç½®äº†å¾®ä¿¡åŸŸåï¼Œåˆ™æ›¿æ¢å½“å‰URLçš„åŸŸåéƒ¨åˆ†
                            if (data.success && data.domain && data.domain.trim()) {
                                try {
                                    const wechatDomain = data.domain.trim();
                                    // ç¡®ä¿åŸŸåä»¥ https:// å¼€å¤´
                                    const domain = wechatDomain.startsWith('http') ? wechatDomain : `https://${wechatDomain}`;
                                    // ç§»é™¤æœ«å°¾çš„æ–œæ 
                                    const cleanDomain = domain.replace(/\/$/, '');
                                    
                                    // è·å–å½“å‰URLçš„è·¯å¾„éƒ¨åˆ†ï¼ˆåŒ…æ‹¬æŸ¥è¯¢å‚æ•°å’Œå“ˆå¸Œï¼‰
                                    const currentUrlObj = new URL(currentUrl);
                                    const pathWithQuery = currentUrlObj.pathname + currentUrlObj.search + currentUrlObj.hash;
                                    
                                    // æ„å»ºå¾®ä¿¡åŸŸåURL
                                    qrUrl = cleanDomain + pathWithQuery;
                                } catch (e) {
                                    console.error('æ›¿æ¢å¾®ä¿¡åŸŸåå¤±è´¥:', e);
                                    // å¦‚æœæ›¿æ¢å¤±è´¥ï¼Œä½¿ç”¨åŸå§‹URL
                                    qrUrl = currentUrl;
                                }
                            }
                            
                            const apiUrl = `/api/qrcode?content=${encodeURIComponent(qrUrl)}&type=url&size=200&margin=2`;
                            
                            return fetch(apiUrl);
                        })
                        .then(response => {
                            if (!response.ok) {
                                throw new Error(`ç½‘ç»œè¯·æ±‚å¤±è´¥: ${response.status}`);
                            }
                            return response.json();
                        })
                        .then(data => {
                            if (data.success) {
                                qrContainer.innerHTML = `
                                    <div class="qr-code-image">
                                        <img src="${data.data}" alt="åˆ†äº«äºŒç»´ç " id="qrCodeImage" style="width: 120px; height: 120px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                    </div>
                                `;
                            } else {
                                throw new Error(data.error || 'äºŒç»´ç ç”Ÿæˆå¤±è´¥');
                            }
                        })
                        .catch(error => {
                            console.error('è·å–å¾®ä¿¡åŸŸåé…ç½®æˆ–ç”ŸæˆäºŒç»´ç å¤±è´¥ï¼Œä½¿ç”¨åŸå§‹URLé‡è¯•:', error);
                            // å¦‚æœè·å–é…ç½®å¤±è´¥ï¼Œä½¿ç”¨åŸå§‹URLç”ŸæˆäºŒç»´ç 
                            const apiUrl = `/api/qrcode?content=${encodeURIComponent(currentUrl)}&type=url&size=200&margin=2`;
                            return fetch(apiUrl)
                                .then(response => {
                                    if (!response.ok) {
                                        throw new Error(`ç½‘ç»œè¯·æ±‚å¤±è´¥: ${response.status}`);
                                    }
                                    return response.json();
                                })
                                .then(data => {
                                    if (data.success) {
                                        qrContainer.innerHTML = `
                                            <div class="qr-code-image">
                                                <img src="${data.data}" alt="åˆ†äº«äºŒç»´ç " id="qrCodeImage" style="width: 120px; height: 120px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                            </div>
                                        `;
                                    } else {
                                        throw new Error(data.error || 'äºŒç»´ç ç”Ÿæˆå¤±è´¥');
                                    }
                                })
                                .catch(secondError => {
                                    console.error('äºŒç»´ç ç”Ÿæˆå¤±è´¥:', secondError);
                                    qrContainer.innerHTML = `
                                        <div class="qr-error text-center text-muted">
                                            <i class="bi bi-exclamation-triangle me-1"></i>
                                            <small>äºŒç»´ç ç”Ÿæˆå¤±è´¥</small>
                                        </div>
                                    `;
                                });
                        });
                } catch (error) {
                    console.error('ç”Ÿæˆåˆ†äº«äºŒç»´ç å¤±è´¥:', error);
                }
            };
            
            // åˆ†äº«åˆ°å¾®åš - åœ¨headä¸­å®šä¹‰
            window.shareToWeibo = function() {
                try {
                    const url = window.location.href;
                    const title = document.title;
                    const weiboUrl = `https://service.weibo.com/share/share.php?url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}`;
                    window.open(weiboUrl, '_blank', 'width=600,height=400');
                    if (typeof window.closeShare === 'function') {
                        window.closeShare();
                    }
                } catch (error) {

                }
            };
            
            // åˆ†äº«åˆ°GitHub - åœ¨headä¸­å®šä¹‰
            window.shareToGithub = function() {
                try {
                    const url = window.location.href;
                    const title = document.title;
                    const projectName = (window.pageData && window.pageData.projectName) || 'å·¥å…·';
                    const shareText = `Check out this awesome tool: ${projectName} - ${title}`;
                    const githubUrl = `https://github.com/new?description=${encodeURIComponent(shareText)}&filename=${encodeURIComponent(projectName)}.md`;
                    window.open(githubUrl, '_blank', 'width=800,height=600');
                    if (typeof window.closeShare === 'function') {
                        window.closeShare();
                    }
                } catch (error) {

                }
            };
            
            // åˆ†äº«åˆ°Reddit - åœ¨headä¸­å®šä¹‰
            window.shareToReddit = function() {
                try {
                    const url = window.location.href;
                    const title = document.title;
                    const redditUrl = `https://reddit.com/submit?url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}`;
                    window.open(redditUrl, '_blank', 'width=600,height=500');
                    if (typeof window.closeShare === 'function') {
                        window.closeShare();
                    }
                } catch (error) {

                }
            };
            
            // åˆ†äº«åˆ°LinkedIn - åœ¨headä¸­å®šä¹‰
            window.shareToLinkedIn = function() {
                try {
                    const url = window.location.href;
                    const title = document.title;
                    const linkedinUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`;
                    window.open(linkedinUrl, '_blank', 'width=600,height=500');
                    if (typeof window.closeShare === 'function') {
                        window.closeShare();
                    }
                } catch (error) {

                }
            };
            
            // åˆ†äº«åˆ°WhatsApp - åœ¨headä¸­å®šä¹‰
            window.shareToWhatsApp = function() {
                try {
                    const url = window.location.href;
                    const title = document.title;
                    const projectName = (window.pageData && window.pageData.projectName) || 'å·¥å…·';
                    const shareText = `${projectName} - ${title}\n\n${url}`;
                    const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(shareText)}`;
                    window.open(whatsappUrl, '_blank', 'width=400,height=600');
                    if (typeof window.closeShare === 'function') {
                        window.closeShare();
                    }
                } catch (error) {

                }
            };
            
            // åˆ†äº«åˆ°Telegram - åœ¨headä¸­å®šä¹‰
            window.shareToTelegram = function() {
                try {
                    const url = window.location.href;
                    const title = document.title;
                    const projectName = (window.pageData && window.pageData.projectName) || 'å·¥å…·';
                    const shareText = `${projectName} - ${title}\n\n${url}`;
                    const telegramUrl = `https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(shareText)}`;
                    window.open(telegramUrl, '_blank', 'width=400,height=600');
                    if (typeof window.closeShare === 'function') {
                        window.closeShare();
                    }
                } catch (error) {

                }
            };
            
            // åˆ†äº«åˆ°å¾®ä¿¡ - åœ¨headä¸­å®šä¹‰
            window.shareToWeChat = function() {
                try {
                    const currentUrl = window.location.href;
                    const title = document.title;
                    const projectName = (window.pageData && window.pageData.projectName) || 'å·¥å…·';
                    
                    // è·å–å¾®ä¿¡åŸŸåé…ç½®
                    fetch('/api/wechat-domain')
                        .then(response => response.json())
                        .then(data => {
                            let shareUrl = currentUrl;
                            
                            // å¦‚æœé…ç½®äº†å¾®ä¿¡åŸŸåï¼Œåˆ™æ›¿æ¢å½“å‰URLçš„åŸŸåéƒ¨åˆ†
                            if (data.success && data.domain && data.domain.trim()) {
                                try {
                                    const wechatDomain = data.domain.trim();
                                    // ç¡®ä¿åŸŸåä»¥ https:// å¼€å¤´
                                    const domain = wechatDomain.startsWith('http') ? wechatDomain : `https://${wechatDomain}`;
                                    // ç§»é™¤æœ«å°¾çš„æ–œæ 
                                    const cleanDomain = domain.replace(/\/$/, '');
                                    
                                    // è·å–å½“å‰URLçš„è·¯å¾„éƒ¨åˆ†ï¼ˆåŒ…æ‹¬æŸ¥è¯¢å‚æ•°å’Œå“ˆå¸Œï¼‰
                                    const currentUrlObj = new URL(currentUrl);
                                    const pathWithQuery = currentUrlObj.pathname + currentUrlObj.search + currentUrlObj.hash;
                                    
                                    // æ„å»ºå¾®ä¿¡åŸŸåURL
                                    shareUrl = cleanDomain + pathWithQuery;
                                } catch (e) {
                                    console.error('æ›¿æ¢å¾®ä¿¡åŸŸåå¤±è´¥:', e);
                                    // å¦‚æœæ›¿æ¢å¤±è´¥ï¼Œä½¿ç”¨åŸå§‹URL
                                    shareUrl = currentUrl;
                                }
                            }
                            
                            const shareText = `${projectName} - ${title}\n\n${shareUrl}`;
                            
                            // å¾®ä¿¡åˆ†äº«éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œè¿™é‡Œæä¾›å¤åˆ¶é“¾æ¥çš„æ–¹å¼
                            if (navigator.clipboard && window.isSecureContext) {
                                navigator.clipboard.writeText(shareText).then(() => {
                                    showToast('å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œè¯·æ‰“å¼€å¾®ä¿¡ç²˜è´´åˆ†äº«');
                                    if (typeof window.closeShare === 'function') {
                                        window.closeShare();
                                    }
                                }).catch(() => {
                                    if (typeof window.fallbackCopyTextToClipboard === 'function') {
                                        window.fallbackCopyTextToClipboard(shareText);
                                    }
                                });
                            } else {
                                if (typeof window.fallbackCopyTextToClipboard === 'function') {
                                    window.fallbackCopyTextToClipboard(shareText);
                                }
                            }
                        })
                        .catch(error => {
                            console.error('è·å–å¾®ä¿¡åŸŸåé…ç½®å¤±è´¥:', error);
                            // å¦‚æœè·å–é…ç½®å¤±è´¥ï¼Œä½¿ç”¨åŸå§‹URL
                            const shareText = `${projectName} - ${title}\n\n${currentUrl}`;
                            if (typeof window.fallbackCopyTextToClipboard === 'function') {
                                window.fallbackCopyTextToClipboard(shareText);
                            }
                        });
                } catch (error) {
                    console.error('åˆ†äº«åˆ°å¾®ä¿¡å¤±è´¥:', error);
                }
            };
            
            // åˆ†äº«åˆ°QQ - åœ¨headä¸­å®šä¹‰
            window.shareToQQ = function() {
                try {
                    const url = window.location.href;
                    const title = document.title;
                    const projectName = (window.pageData && window.pageData.projectName) || 'å·¥å…·';
                    const shareText = `${projectName} - ${title}`;
                    const qqUrl = `https://connect.qq.com/widget/shareqq/index.html?url=${encodeURIComponent(url)}&title=${encodeURIComponent(shareText)}&summary=${encodeURIComponent(shareText)}`;
                    window.open(qqUrl, '_blank', 'width=600,height=500');
                    if (typeof window.closeShare === 'function') {
                        window.closeShare();
                    }
                } catch (error) {

                }
            };
            
            // åˆ†äº«åˆ°Twitter/X - åœ¨headä¸­å®šä¹‰
            window.shareToTwitter = function() {
                try {
                    const url = window.location.href;
                    const title = document.title;
                    const projectName = (window.pageData && window.pageData.projectName) || 'å·¥å…·';
                    const shareText = `${projectName} - ${title}`;
                    const xUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(url)}&via=IdoXu401`;
                    window.open(xUrl, '_blank', 'width=600,height=500,scrollbars=yes,resizable=yes');
                    logClick('x_twitter_share');
                    if (typeof window.closeShare === 'function') {
                        window.closeShare();
                    }
                } catch (error) {

                }
            };
            
            // æˆ‘çš„å·¥å…· - åœ¨headä¸­å®šä¹‰
            window.handleMyTools = function() {
                try {

                    logClick('my_tools_click');
                    
                    // æ£€æŸ¥æ˜¯å¦ç™»å½•ï¼ˆä¼˜å…ˆä½¿ç”¨windowä¸Šçš„å˜é‡ï¼‰
                    const isAuthenticated = typeof window.currentUserAuthenticated !== 'undefined' 
                        ? window.currentUserAuthenticated 
                        : (typeof currentUserAuthenticated !== 'undefined' ? currentUserAuthenticated : false);
                    
                    if (!isAuthenticated) {

                        showToast('è¯·å…ˆç™»å½•åå†è®¿é—®ç”¨æˆ·ä¸­å¿ƒ');
                        setTimeout(() => {
                            window.location.href = '/login';
                        }, 1500);
                        return;
                    }
                    
                    // è·³è½¬åˆ°ç”¨æˆ·ä¸­å¿ƒ
                    window.location.href = '/dashboard';
                } catch (error) {

                    showToast('è·³è½¬å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
                }
            };
            
            // ä¸‹è½½äºŒç»´ç  - åœ¨headä¸­å®šä¹‰ï¼Œä½¿ç”¨ç»Ÿä¸€çš„å…¬å…±æœåŠ¡
            window.downloadQRCode = function() {
                try {
                    const qrImage = document.getElementById('qrCodeImage');
                    if (!qrImage) {
                        showToast('äºŒç»´ç æœªç”Ÿæˆ');
                        return;
                    }
                    
                    // ä½¿ç”¨ç»Ÿä¸€çš„ä¸‹è½½å‡½æ•°
                    if (typeof downloadQRImage === 'function') {
                        const fileName = (window.pageData && window.pageData.projectName) || 'å·¥å…·';
                        downloadQRImage(qrImage, `DKFile-${fileName}`, {
                            showToast: true,
                            successMessage: 'äºŒç»´ç ä¸‹è½½æˆåŠŸ'
                        });
                        return;
                    }
                    
                    // Fallbackï¼šå¤„ç†å›¾ç‰‡ä¸‹è½½çš„å‡½æ•°
                    const processDownload = function() {
                        try {
                            // åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„canvasæ¥ä¸‹è½½å›¾ç‰‡
                            const canvas = document.createElement('canvas');
                            const ctx = canvas.getContext('2d');
                            
                            // ä½¿ç”¨å›¾ç‰‡çš„å®é™…å°ºå¯¸ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨æ˜¾ç¤ºå°ºå¯¸
                            const imgWidth = qrImage.naturalWidth || qrImage.width || 200;
                            const imgHeight = qrImage.naturalHeight || qrImage.height || 200;
                            
                            canvas.width = imgWidth;
                            canvas.height = imgHeight;
                            
                            // ç»˜åˆ¶ç™½è‰²èƒŒæ™¯
                            ctx.fillStyle = '#ffffff';
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            
                            // ç»˜åˆ¶äºŒç»´ç å›¾ç‰‡
                            ctx.drawImage(qrImage, 0, 0, imgWidth, imgHeight);
                            
                            // åˆ›å»ºä¸‹è½½é“¾æ¥
                            canvas.toBlob(function(blob) {
                                if (!blob) {
                                    showToast('ä¸‹è½½å¤±è´¥ï¼Œæ— æ³•ç”Ÿæˆå›¾ç‰‡');
                                    return;
                                }
                                
                                try {
                                    const url = URL.createObjectURL(blob);
                                    const a = document.createElement('a');
                                    a.href = url;
                                    const fileName = (window.pageData && window.pageData.projectName) || 'å·¥å…·';
                                    // æ¸…ç†æ–‡ä»¶åï¼Œç§»é™¤ç‰¹æ®Šå­—ç¬¦
                                    const cleanFileName = fileName.replace(/[^\w\u4e00-\u9fa5]/g, '_');
                                    a.download = `DKFile-${cleanFileName}.png`;
                                    document.body.appendChild(a);
                                    a.click();
                                    
                                    // å»¶è¿Ÿæ¸…ç†ï¼Œç¡®ä¿ä¸‹è½½å¼€å§‹
                                    setTimeout(function() {
                                        document.body.removeChild(a);
                                        URL.revokeObjectURL(url);
                                    }, 100);
                                    
                                    showToast('äºŒç»´ç ä¸‹è½½æˆåŠŸ');
                                } catch (e) {
                                    console.error('åˆ›å»ºä¸‹è½½é“¾æ¥å¤±è´¥:', e);
                                    showToast('ä¸‹è½½å¤±è´¥ï¼Œè¯·é‡è¯•');
                                }
                            }, 'image/png');
                        } catch (e) {
                            console.error('å¤„ç†ä¸‹è½½å¤±è´¥:', e);
                            showToast('ä¸‹è½½å¤±è´¥ï¼Œè¯·é‡è¯•');
                        }
                    };
                    
                    // base64 data URIå›¾ç‰‡å¤„ç†ï¼šåˆ›å»ºæ–°Imageå¯¹è±¡ç¡®ä¿åŠ è½½å®Œæˆ
                    const imgSrc = qrImage.src;
                    if (imgSrc && imgSrc.startsWith('data:image')) {
                        // base64 data URIï¼šåˆ›å»ºæ–°Imageå¯¹è±¡é‡æ–°åŠ è½½
                        const newImg = new Image();
                        newImg.onload = function() {
                            // ç¡®ä¿æ–°å›¾ç‰‡æœ‰æœ‰æ•ˆå°ºå¯¸
                            if (newImg.width === 0 || newImg.height === 0) {
                                // å»¶è¿Ÿé‡è¯•ï¼Œç»™æµè§ˆå™¨æ›´å¤šæ—¶é—´è®¡ç®—å°ºå¯¸
                                setTimeout(function() {
                                    if (newImg.width > 0 && newImg.height > 0) {
                                        // ä½¿ç”¨æ–°åŠ è½½çš„å›¾ç‰‡è¿›è¡Œä¸‹è½½
                                        const canvas = document.createElement('canvas');
                                        const ctx = canvas.getContext('2d');
                                        canvas.width = newImg.width;
                                        canvas.height = newImg.height;
                                        ctx.fillStyle = '#ffffff';
                                        ctx.fillRect(0, 0, canvas.width, canvas.height);
                                        ctx.drawImage(newImg, 0, 0);
                                        
                                        canvas.toBlob(function(blob) {
                                            if (!blob) {
                                                showToast('ä¸‹è½½å¤±è´¥ï¼Œæ— æ³•ç”Ÿæˆå›¾ç‰‡');
                                                return;
                                            }
                                            const url = URL.createObjectURL(blob);
                                            const a = document.createElement('a');
                                            a.href = url;
                                            const fileName = (window.pageData && window.pageData.projectName) || 'å·¥å…·';
                                            const cleanFileName = fileName.replace(/[^\w\u4e00-\u9fa5]/g, '_');
                                            a.download = `DKFile-${cleanFileName}.png`;
                                            document.body.appendChild(a);
                                            a.click();
                                            setTimeout(function() {
                                                document.body.removeChild(a);
                                                URL.revokeObjectURL(url);
                                            }, 100);
                                            showToast('äºŒç»´ç ä¸‹è½½æˆåŠŸ');
                                        }, 'image/png');
                                    } else {
                                        showToast('ä¸‹è½½å¤±è´¥ï¼šå›¾ç‰‡æœªå®Œå…¨åŠ è½½æˆ–å°ºå¯¸æ— æ•ˆ');
                                        console.error('ä¸‹è½½å¤±è´¥: å›¾ç‰‡å°ºå¯¸æ— æ•ˆ', newImg.width, newImg.height);
                                    }
                                }, 100);
                                return;
                            }
                            
                            // ä½¿ç”¨æ–°åŠ è½½çš„å›¾ç‰‡è¿›è¡Œä¸‹è½½
                            const canvas = document.createElement('canvas');
                            const ctx = canvas.getContext('2d');
                            canvas.width = newImg.width;
                            canvas.height = newImg.height;
                            ctx.fillStyle = '#ffffff';
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.drawImage(newImg, 0, 0);
                            
                            canvas.toBlob(function(blob) {
                                if (!blob) {
                                    showToast('ä¸‹è½½å¤±è´¥ï¼Œæ— æ³•ç”Ÿæˆå›¾ç‰‡');
                                    return;
                                }
                                const url = URL.createObjectURL(blob);
                                const a = document.createElement('a');
                                a.href = url;
                                const fileName = (window.pageData && window.pageData.projectName) || 'å·¥å…·';
                                const cleanFileName = fileName.replace(/[^\w\u4e00-\u9fa5]/g, '_');
                                a.download = `DKFile-${cleanFileName}.png`;
                                document.body.appendChild(a);
                                a.click();
                                setTimeout(function() {
                                    document.body.removeChild(a);
                                    URL.revokeObjectURL(url);
                                }, 100);
                                showToast('äºŒç»´ç ä¸‹è½½æˆåŠŸ');
                            }, 'image/png');
                        };
                        newImg.onerror = function() {
                            showToast('ä¸‹è½½å¤±è´¥ï¼šå›¾ç‰‡åŠ è½½å¼‚å¸¸');
                        };
                        newImg.src = imgSrc;
                    } else {
                        // æ™®é€šå›¾ç‰‡URLï¼šä½¿ç”¨åŸæœ‰é€»è¾‘
                        if (qrImage.complete && qrImage.naturalWidth > 0 && qrImage.naturalHeight > 0) {
                            processDownload();
                        } else {
                            const originalOnload = qrImage.onload;
                            qrImage.onload = function() {
                                if (originalOnload) originalOnload();
                                if (qrImage.naturalWidth > 0 && qrImage.naturalHeight > 0) {
                                    processDownload();
                                } else {
                                    setTimeout(function() {
                                        if (qrImage.naturalWidth > 0 && qrImage.naturalHeight > 0) {
                                            processDownload();
                                        } else {
                                            showToast('ä¸‹è½½å¤±è´¥ï¼šå›¾ç‰‡æœªå®Œå…¨åŠ è½½');
                                        }
                                    }, 100);
                                }
                            };
                            if (qrImage.complete) {
                                qrImage.onload();
                            }
                        }
                    }
                } catch (error) {
                    console.error('ä¸‹è½½äºŒç»´ç å¤±è´¥:', error);
                    showToast('ä¸‹è½½å¤±è´¥ï¼Œè¯·é‡è¯•');
                }
            };
            
            // å¤åˆ¶é“¾æ¥ - åœ¨headä¸­å®šä¹‰
            window.copyLink = function() {
                try {
                    const currentUrl = window.location.href;
                    const title = document.title;
                    const projectName = (window.pageData && window.pageData.projectName) || 'å·¥å…·';
                    
                    // è·å–å¾®ä¿¡åŸŸåé…ç½®å¹¶æ›¿æ¢
                    fetch('/api/wechat-domain')
                        .then(response => response.json())
                        .then(data => {
                            let url = currentUrl.replace('http://', 'https://');
                            
                            // å¦‚æœé…ç½®äº†å¾®ä¿¡åŸŸåï¼Œåˆ™æ›¿æ¢å½“å‰URLçš„åŸŸåéƒ¨åˆ†
                            if (data.success && data.domain && data.domain.trim()) {
                                try {
                                    const wechatDomain = data.domain.trim();
                                    // ç¡®ä¿åŸŸåä»¥ https:// å¼€å¤´
                                    const domain = wechatDomain.startsWith('http') ? wechatDomain : `https://${wechatDomain}`;
                                    // ç§»é™¤æœ«å°¾çš„æ–œæ 
                                    const cleanDomain = domain.replace(/\/$/, '');
                                    
                                    // è·å–å½“å‰URLçš„è·¯å¾„éƒ¨åˆ†ï¼ˆåŒ…æ‹¬æŸ¥è¯¢å‚æ•°å’Œå“ˆå¸Œï¼‰
                                    const currentUrlObj = new URL(currentUrl);
                                    const pathWithQuery = currentUrlObj.pathname + currentUrlObj.search + currentUrlObj.hash;
                                    
                                    // æ„å»ºå¾®ä¿¡åŸŸåURL
                                    url = cleanDomain + pathWithQuery;
                                } catch (e) {
                                    console.error('æ›¿æ¢å¾®ä¿¡åŸŸåå¤±è´¥:', e);
                                    // å¦‚æœæ›¿æ¢å¤±è´¥ï¼Œä½¿ç”¨åŸå§‹URL
                                    url = currentUrl.replace('http://', 'https://');
                                }
                            }
                            
                            const textToCopy = `${projectName} - ${title}\n${url}`;
                            
                            if (navigator.clipboard && window.isSecureContext) {
                                navigator.clipboard.writeText(textToCopy).then(() => {
                                    showToast('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                                    if (typeof window.closeShare === 'function') {
                                        window.closeShare();
                                    }
                                }).catch(() => {
                                    if (typeof window.fallbackCopyTextToClipboard === 'function') {
                                        window.fallbackCopyTextToClipboard(textToCopy);
                                    }
                                });
                            } else {
                                if (typeof window.fallbackCopyTextToClipboard === 'function') {
                                    window.fallbackCopyTextToClipboard(textToCopy);
                                }
                            }
                        })
                        .catch(error => {
                            console.error('è·å–å¾®ä¿¡åŸŸåé…ç½®å¤±è´¥:', error);
                            // å¦‚æœè·å–é…ç½®å¤±è´¥ï¼Œä½¿ç”¨åŸå§‹URL
                            let url = currentUrl.replace('http://', 'https://');
                            const textToCopy = `${projectName} - ${title}\n${url}`;
                            if (navigator.clipboard && window.isSecureContext) {
                                navigator.clipboard.writeText(textToCopy).then(() => {
                                    showToast('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                                    if (typeof window.closeShare === 'function') {
                                        window.closeShare();
                                    }
                                }).catch(() => {
                                    if (typeof window.fallbackCopyTextToClipboard === 'function') {
                                        window.fallbackCopyTextToClipboard(textToCopy);
                                    }
                                });
                            } else {
                                if (typeof window.fallbackCopyTextToClipboard === 'function') {
                                    window.fallbackCopyTextToClipboard(textToCopy);
                                }
                            }
                        });
                } catch (error) {
                    console.error('å¤åˆ¶é“¾æ¥å¤±è´¥:', error);
                    showToast('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶é“¾æ¥');
                }
            };
            
            // å¤‡ç”¨å¤åˆ¶æ–¹æ³• - åœ¨headä¸­å®šä¹‰
            window.fallbackCopyTextToClipboard = function(text) {
                try {
                    const textArea = document.createElement('textarea');
                    textArea.value = text;
                    textArea.style.position = 'fixed';
                    textArea.style.left = '-999999px';
                    textArea.style.top = '-999999px';
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    
                    try {
                        document.execCommand('copy');
                        showToast('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                        if (typeof window.closeShare === 'function') {
                            window.closeShare();
                        }
                    } catch (err) {
                        showToast('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶é“¾æ¥');
                    }
                    
                    document.body.removeChild(textArea);
                } catch (error) {

                }
            };
            
            // æ£€æŸ¥å¹¶ä¿®å¤å¯èƒ½å½±å“fixedå®šä½çš„çˆ¶å…ƒç´ æ ·å¼ï¼ˆåœ¨headä¸­å®šä¹‰ï¼‰
            window.fixFixedPositioningAncestors = function(element) {
                if (!element || !element.parentElement) return false;
                
                let current = element.parentElement;
                const problematicProps = ['transform', 'perspective', 'filter', 'will-change'];
                
                while (current && current !== document.body && current !== document.documentElement) {
                    const computedStyle = window.getComputedStyle(current);
                    
                    // æ£€æŸ¥æ˜¯å¦æœ‰å½±å“fixedå®šä½çš„å±æ€§
                    for (const prop of problematicProps) {
                        const value = computedStyle.getPropertyValue(prop);
                        if (value && value !== 'none' && value !== 'auto' && value !== 'initial') {
                            // å¦‚æœçˆ¶å…ƒç´ æœ‰è¿™äº›å±æ€§ï¼Œéœ€è¦å°†å®¹å™¨ç§»åˆ°bodyä¸‹

                            return true; // éœ€è¦ç§»åŠ¨å®¹å™¨
                        }
                    }
                    
                    // æ£€æŸ¥positionæ˜¯å¦ä¸ºfixedæˆ–absoluteï¼ˆè¿™äº›ä¹Ÿå¯èƒ½å½±å“ï¼‰
                    const position = computedStyle.position;
                    if (position === 'fixed' || position === 'absolute') {
                        // å¦‚æœçˆ¶å…ƒç´ æ˜¯fixedæˆ–absoluteï¼Œæ£€æŸ¥æ˜¯å¦æœ‰transformç­‰å±æ€§
                        const transform = computedStyle.transform;
                        if (transform && transform !== 'none') {

                            return true; // éœ€è¦ç§»åŠ¨å®¹å™¨
                        }
                    }
                    
                    current = current.parentElement;
                }
                
                return false; // ä¸éœ€è¦ç§»åŠ¨
            };
            
            // å¼ºåˆ¶ä¿®å¤å¹³å°æ ‡è¯†ä½ç½® - å·²ç®€åŒ–ï¼Œåªæ£€æŸ¥æ–°çš„ #dkfile-platform-footer-in-buttons
            window.forceFixPlatformFooter = function() {
                // æ–°çš„å¹³å°æ ‡è¯†å·²é›†æˆåˆ°æµ®åŠ¨æŒ‰é’®ç»„ä¸­ï¼Œæ— éœ€é¢å¤–ä¿®å¤
                // ä¿ç•™æ­¤å‡½æ•°ç”¨äºå‘åå…¼å®¹ï¼Œä½†ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
                return;
            };
            
            // æ‰‹æœºç«¯æµ®åŠ¨æŒ‰é’®å±•å¼€/æ”¶èµ·æ§åˆ¶ - åœ¨headä¸­å®šä¹‰ï¼Œç¡®ä¿åœ¨ç”¨æˆ·å†…å®¹åŠ è½½å‰å¯ç”¨
            window.toggleFloatingButtons = function() {
                try {
                    const isMobile = window.innerWidth <= 768;
                    if (!isMobile) {
                        return; // éæ‰‹æœºç«¯ä¸æ‰§è¡Œ
                    }
                    
                    const buttonsContainer = document.getElementById('dkfile-floating-buttons');
                    const menuBtn = document.getElementById('floatingMenuBtn');
                    const menuBtnIcon = document.getElementById('menuBtnIcon');
                    const overlay = document.getElementById('floatingButtonsOverlay');
                    
                    if (!buttonsContainer || !menuBtn || !menuBtnIcon) {

                        return;
                    }
                    
                    const isExpanded = buttonsContainer.classList.contains('expanded');
                    
                    // è®°å½•æ”¶ç¼©/å±•å¼€æŒ‰é’®ç‚¹å‡»æ—¥å¿—
                    logClick(isExpanded ? 'menu_collapse' : 'menu_expand');
                    
                    if (isExpanded) {
                        // æ”¶èµ·
                        buttonsContainer.classList.remove('expanded');
                        menuBtn.classList.remove('active');
                        menuBtnIcon.className = 'bi bi-plus-lg';
                        if (overlay) {
                            overlay.classList.remove('active');
                        }
                        document.body.style.overflow = '';

                    } else {
                        // å±•å¼€
                        buttonsContainer.classList.add('expanded');
                        menuBtn.classList.add('active');
                        menuBtnIcon.className = 'bi bi-x-lg';
                        if (overlay) {
                            overlay.classList.add('active');
                        }
                        document.body.style.overflow = 'hidden';

                    }
                } catch (error) {

                }
            };
            
            
            // å¼ºåˆ¶ä¿®å¤æµ®åŠ¨æŒ‰é’®æ ·å¼ - ç¡®ä¿å›ºå®šåœ¨å³ä¸‹è§’ï¼ˆåœ¨headä¸­å®šä¹‰ï¼Œç¡®ä¿åœ¨ç”¨æˆ·å†…å®¹åŠ è½½å‰å¯ç”¨ï¼‰
            window.forceFixFloatingButtons = function() {
                // ä¼˜å…ˆä½¿ç”¨IDé€‰æ‹©å™¨ï¼Œæ›´ç²¾ç¡®ï¼Œé¿å…è¢«ç”¨æˆ·å†…å®¹ä¸­çš„.floating-action-buttonså½±å“
                const floatingButtons = document.getElementById('dkfile-floating-buttons') || document.querySelector('.floating-action-buttons');
                if (!floatingButtons) {

                    // å¦‚æœå…ƒç´ è¿˜æ²¡åŠ è½½ï¼Œå»¶è¿Ÿé‡è¯•
                    setTimeout(function() {
                        if (typeof window.forceFixFloatingButtons === 'function') {
                            window.forceFixFloatingButtons();
                        }
                    }, 500);
                    return;
                }
                
                try {
                    const isMobile = window.innerWidth <= 768;
                    // å¼ºåˆ¶è®¾ç½®å…³é”®æ ·å¼å±æ€§ï¼Œç¡®ä¿å›ºå®šåœ¨å³ä¸‹è§’
                    floatingButtons.style.setProperty('position', 'fixed', 'important');
                    floatingButtons.style.setProperty('bottom', isMobile ? '70px' : '80px', 'important');
                    floatingButtons.style.setProperty('right', isMobile ? '10px' : '20px', 'important');
                    floatingButtons.style.setProperty('left', 'auto', 'important');
                    floatingButtons.style.setProperty('top', 'auto', 'important');
                    floatingButtons.style.setProperty('z-index', '10000', 'important');
                    floatingButtons.style.setProperty('display', 'flex', 'important');
                    floatingButtons.style.setProperty('flex-direction', 'column', 'important');
                    floatingButtons.style.setProperty('gap', isMobile ? '6px' : '8px', 'important');
                    floatingButtons.style.setProperty('visibility', 'visible', 'important');
                    floatingButtons.style.setProperty('opacity', '1', 'important');
                    floatingButtons.style.setProperty('pointer-events', 'auto', 'important');
                    floatingButtons.style.setProperty('transform', 'none', 'important');
                    floatingButtons.style.setProperty('margin', '0', 'important');
                    floatingButtons.style.setProperty('padding', '0', 'important');
                    
                    // ä¿®å¤æ¯ä¸ªæŒ‰é’®çš„æ ·å¼
                    const buttons = floatingButtons.querySelectorAll('.floating-btn');
                    buttons.forEach(function(btn) {
                        const btnSize = isMobile ? '36px' : '40px';
                        btn.style.setProperty('width', btnSize, 'important');
                        btn.style.setProperty('height', btnSize, 'important');
                        btn.style.setProperty('min-width', btnSize, 'important');
                        btn.style.setProperty('min-height', btnSize, 'important');
                        btn.style.setProperty('max-width', btnSize, 'important');
                        btn.style.setProperty('max-height', btnSize, 'important');
                        btn.style.setProperty('display', 'flex', 'important');
                        btn.style.setProperty('visibility', 'visible', 'important');
                        btn.style.setProperty('opacity', '1', 'important');
                        btn.style.setProperty('pointer-events', 'auto', 'important');
                    });

                } catch (e) {

                }
            };
            
        })();
    </script>
    
    <!-- é”™è¯¯éš”ç¦»ï¼šåœ¨ç”¨æˆ·å†…å®¹åŠ è½½å‰è®¾ç½®å…¨å±€é”™è¯¯å¤„ç† -->
    <script>
        (function() {
            'use strict';
            
            // è®°å½•åŸå§‹çš„é”™è¯¯å¤„ç†
            const originalError = window.onerror;
            const originalUnhandledRejection = window.onunhandledrejection;
            
            // å…¨å±€é”™è¯¯å¤„ç† - æ•è·å¹¶é™é»˜å¤„ç†è¯­æ³•é”™è¯¯ï¼Œé¿å…å½±å“ç”¨æˆ·ä½“éªŒ
            window.onerror = function(message, source, lineno, colno, error) {
                // æ£€æŸ¥æ˜¯å¦æ˜¯è¯­æ³•é”™è¯¯ï¼ˆSyntaxErrorï¼‰
                const isSyntaxError = message && (
                    message.includes('SyntaxError') ||
                    message.includes('Unexpected token') ||
                    message.includes('Unexpected end') ||
                    message.includes('Unexpected identifier') ||
                    (error && error.name === 'SyntaxError')
                );
                
                // å¦‚æœæ˜¯è¯­æ³•é”™è¯¯ï¼Œé™é»˜å¤„ç†ï¼Œä¸æŠ›å‡ºåˆ°æ§åˆ¶å°
                if (isSyntaxError) {
                    // é™é»˜å¤„ç†è¯­æ³•é”™è¯¯ï¼Œé¿å…å½±å“ç”¨æˆ·ä½“éªŒ
                    return true; // é˜»æ­¢é”™è¯¯ä¼ æ’­åˆ°æ§åˆ¶å°
                }
                
                // å¦‚æœé”™è¯¯æ¥è‡ªç”¨æˆ·å†…å®¹ï¼ˆcontent-wrapperï¼‰ï¼Œè®°å½•ä½†ä¸é˜»æ­¢æ‰§è¡Œ
                if (source && (source.includes('content-wrapper') || !source.includes('view.html'))) {
                    // é”™è¯¯æ¥è‡ªç”¨æˆ·å†…å®¹ï¼Œå·²éš”ç¦»ï¼Œä¸å½±å“å¹³å°åŠŸèƒ½
                    if (typeof window.handleLike === 'undefined') {
                        // å¹³å°å…³é”®å‡½æ•°å¯èƒ½è¢«ç”¨æˆ·å†…å®¹å½±å“
                    }
                    return false; // å…è®¸é”™è¯¯ç»§ç»­ä¼ æ’­ï¼ˆç”¨äºè°ƒè¯•ï¼‰
                }
                
                // å¦‚æœæ˜¯å¹³å°ä»£ç çš„é”™è¯¯ï¼Œè°ƒç”¨åŸå§‹å¤„ç†å™¨
                if (originalError) {
                    return originalError.apply(this, arguments);
                }
                return false;
            };
            
            // æ•è·æœªå¤„ç†çš„Promiseæ‹’ç»
            window.addEventListener('unhandledrejection', function(event) {
                // ä¸é˜»æ­¢é»˜è®¤è¡Œä¸º
            });
            
        })();
    </script>
</head>
<body>
    
    <div class="content-wrapper">
        <!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>91é¢„æµ‹</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Microsoft YaHei', sans-serif; background: #f0f2f5; color: #333; line-height: 1.6; padding: 0; }
        .container { max-width: 800px; margin: 0 auto; padding: 15px; }
        
        header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; box-shadow: 0 6px 12px rgba(0,0,0,0.1); }
        h1 { font-size: 22px; margin-bottom: 8px; }
        .subtitle { font-size: 14px; opacity: 0.9; }
        
        .card { background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 8px rgba(0,0,0,0.05); border-left: 5px solid; }
        .prediction-card { border-left-color: #667eea; }
        .history-card { border-left-color: #f59e0b; }
        .result-card { border-left-color: #10b981; }
        
        .card-title { font-size: 18px; color: #374151; margin-bottom: 15px; display: flex; align-items: center; }
        .card-title i { margin-right: 10px; font-size: 20px; }
        
        .info-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px dashed #e5e7eb; }
        .info-row:last-child { border-bottom: none; }
        .info-label { font-weight: 600; color: #4b5563; }
        .info-value { font-weight: 700; color: #1f2937; text-align: right; }
        
        .badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 13px; font-weight: 700; margin: 2px; }
        .small-single { background: #dbeafe; color: #1e40af; }
        .small-double { background: #d1fae5; color: #065f46; }
        .big-single { background: #fef3c7; color: #92400e; }
        .big-double { background: #ede9fe; color: #5b21b6; }
        
        .result-table { width: 100%; border-collapse: collapse; font-size: 14px; }
        .result-table th, .result-table td { padding: 12px 8px; text-align: center; border-bottom: 1px solid #e5e7eb; }
        .result-table th { background: #f9fafb; font-weight: 700; color: #4b5563; }
        .result-table tr:hover { background: #f8fafc; }
        
        .button { display: inline-block; background: #667eea; color: white; padding: 12px 24px; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; text-align: center; width: 100%; transition: all 0.3s; }
        .button:hover { background: #5a67d8; transform: translateY(-2px); }
        
        footer { text-align: center; padding: 20px; color: #6b7280; font-size: 13px; margin-top: 20px; }
        
        .number-balls { display: inline-flex; gap: 5px; }
        .ball { width: 28px; height: 28px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 12px; }
        
        @media (max-width: 480px) {
            .container { padding: 10px; }
            .card { padding: 15px; }
            .card-title { font-size: 16px; }
            .info-value { font-size: 14px; }
            .ball { width: 24px; height: 24px; font-size: 11px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¯ 91</h1>
            <p class="subtitle">ç‹¬å®¶é¢„æµ‹</p>
        </header>
        
        <!-- é¢„æµ‹ç»“æœå¡ç‰‡ -->
        <div class="card prediction-card">
            <div class="card-title">ğŸ“ˆ æœ€æ–°é¢„æµ‹ç»“æœ</div>
            <div class="info-row">
                <span class="info-label">é¢„æµ‹æœŸå·ï¼š</span>
                <span id="predictionPeriod" class="info-value">åŠ è½½ä¸­...</span>
            </div>
            <div class="info-row">
                <span class="info-label">é¢„æµ‹ç»„åˆï¼š</span>
                <span id="predictionCombination" class="info-value">åŠ è½½ä¸­...</span>
            </div>
            <div class="info-row">
                <span class="info-label">æ€å·ç±»å‹ï¼š</span>
                <span id="killType" class="info-value">åŠ è½½ä¸­...</span>
            </div>
        </div>
        
        <!-- æœ€è¿‘10æœŸå¼€å¥–ç»“æœå¡ç‰‡ -->
        <div class="card result-card">
            <div class="card-title">ğŸ“Š æœ€è¿‘10æœŸå¼€å¥–ç»“æœ</div>
            <div style="overflow-x: auto;">
                <table class="result-table" id="resultTable">
                    <thead>
                        <tr>
                            <th>æœŸå·</th>
                            <th>å¼€å¥–å·ç </th>
                            <th>å’Œå€¼</th>
                            <th>ç±»å‹</th>
                            <th>å¼€å¥–æ—¶é—´</th>
                        </tr>
                    </thead>
                    <tbody id="resultTableBody">
                        <tr><td colspan="5">æ­£åœ¨åŠ è½½æ•°æ®...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- æ§åˆ¶æŒ‰é’® -->
        <button id="refreshBtn" class="button">ğŸ”„ ç«‹å³åˆ·æ–°æ•°æ®</button>
        
        <footer>
            <p>91ç‹¬å®¶é¢„æµ‹ â€¢ æ•°æ®æ¥æºï¼šJND28å®˜æ–¹å¼€å¥–è®°å½•</p>
            <p>âš ï¸ æ•°æ®ä»…ä¾›å‚è€ƒï¼Œä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®</p>
        </footer>
    </div>

    <script>
        // å·¥å…·å‡½æ•°ï¼šè·å–ç±»å‹å¯¹åº”çš„CSSç±»å
        function getTypeClass(type) {
            switch(type) {
                case 'å°å•': return 'small-single';
                case 'å°åŒ': return 'small-double';
                case 'å¤§å•': return 'big-single';
                case 'å¤§åŒ': return 'big-double';
                default: return '';
            }
        }
        
        // å·¥å…·å‡½æ•°ï¼šæ ¹æ®å’Œå€¼è®¡ç®—ç±»å‹
        function calculateType(h) {
            if (h <= 13) {
                return h % 2 === 0 ? 'å°åŒ' : 'å°å•';
            } else {
                return h % 2 === 0 ? 'å¤§åŒ' : 'å¤§å•';
            }
        }
        
        // æ ¸å¿ƒå‡½æ•°ï¼šè·å–å¹¶å¤„ç†æ•°æ®
        async function fetchAndProcessData() {
            const apiUrl = 'https://super.pc28998.com/history/JND28';
            
            try {
                const response = await fetch(apiUrl);
                
                if (!response.ok) {
                    throw new Error(`ç½‘ç»œè¯·æ±‚å¤±è´¥: ${response.status}`);
                }
                
                const result = await response.json();
                
                if (result.code !== 1) {
                    throw new Error(`APIè¿”å›é”™è¯¯: ${result.msg || 'æœªçŸ¥é”™è¯¯'}`);
                }
                
                const rawData = result.data;
                
                if (!rawData || rawData.length < 1) {
                    throw new Error('æ•°æ®ä¸è¶³ï¼Œè‡³å°‘éœ€è¦1æœŸå¼€å¥–è®°å½•æ‰èƒ½è®¡ç®—é¢„æµ‹');
                }
                
                // è½¬æ¢æ•°æ®æ ¼å¼ä»¥åŒ¹é…æ‚¨çš„è®¡ç®—é€»è¾‘
                const formattedData = rawData.map(item => {
                    // è§£æå¼€å¥–å·ç  "0,1,0" -> [0, 1, 0]
                    const codes = item.opencode.split(',').map(num => parseInt(num));
                    const sum = codes.reduce((a, b) => a + b, 0);
                    
                    return {
                        period: item.expect,
                        a: codes[0],
                        b: codes[1],
                        c: codes[2],
                        h: sum,
                        type: calculateType(sum),
                        opentime: item.opentime,
                        opentime_text: item.opentime_text
                    };
                });
                
                // æŒ‰æœŸå·é™åºæ’åˆ—ï¼ˆæœ€æ–°ä¸€æœŸåœ¨å‰ï¼‰
                formattedData.sort((a, b) => parseInt(b.period) - parseInt(a.period));
                
                // 1. è®¡ç®—æœ€æ–°ä¸€æœŸé¢„æµ‹ï¼ˆé¢„æµ‹ä¸‹ä¸€æœŸï¼‰
                const latestPrediction = calculateNextPredictionNew(formattedData);
                
                // 2. æ˜¾ç¤ºæœ€æ–°é¢„æµ‹
                displayPredictionNew(latestPrediction);
                
                // 3. æ˜¾ç¤ºæœ€è¿‘10æœŸå¼€å¥–ç»“æœ
                displayRecentResults(formattedData.slice(0, 10));
                
                return { 
                    latestPrediction, 
                    rawData: formattedData 
                };
                
            } catch (error) {
                console.error('æ•°æ®å¤„ç†é”™è¯¯:', error);
                displayError(error.message);
                return null;
            }
        }
        
        // æ–°çš„è®¡ç®—ä¸‹ä¸€æœŸé¢„æµ‹ï¼ˆæŒ‰ç…§æ‚¨çš„æ–°æ€è·¯ï¼‰
        function calculateNextPredictionNew(data) {
            // è·å–æœ€æ–°ä¸€æœŸæ•°æ®
            const current = data[0]; // æœ€æ–°ä¸€æœŸ
            
            // é¢„æµ‹çš„æœŸå·æ˜¯å½“å‰æœŸå·+1
            const predictedPeriod = (parseInt(current.period) + 1).toString();
            
            // ç¬¬ä¸€æ­¥ï¼šè®¡ç®— D1 = A1 + B1 + C1
            const D1 = current.h; // A1+B1+C1çš„å’Œ
            
            // ç¬¬ä¸€æ­¥ï¼šè®¡ç®— (A1+B1+C1) * 2 * D1
            const step1 = D1 * 3 * D1;
            
            // ç¬¬äºŒæ­¥ï¼šå–step1çš„åä¸‰ä½æ•°å­—ç›¸åŠ 
            // å°†step1è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå–åä¸‰ä½
            const step1Str = step1.toString();
            const lastThreeDigits = step1Str.length >= 3 
                ? step1Str.substring(step1Str.length - 3)
                : step1Str.padStart(3, '0');
            
            // å°†åä¸‰ä½æ•°å­—ç›¸åŠ å¾—åˆ°D2
            const D2 = lastThreeDigits.split('').reduce((sum, digit) => sum + parseInt(digit), 0);
            
            // ç¬¬ä¸‰æ­¥ï¼šè®¡ç®— S = D2 + B1ï¼Œå¦‚æœS>27åˆ™å‡27
            let S = D2 + current.a;
            while (S > 27) {
                S -= 27;
            }
            
            // æ ¹æ®Sè®¡ç®—ç±»å‹
            const resultType = calculateType(S);
            
            // æ ¹æ®ç±»å‹ç¡®å®šæ€å·å’Œæ¨èï¼ˆæŒ‰ç…§æ‚¨çš„è§„åˆ™ï¼‰
            let killType, mainTypes, preventType;
            
            switch(resultType) {
                case 'å¤§åŒ':
                    killType = 'å°å•';
                    mainTypes = ['å¤§å•', 'å°åŒ'];
                    preventType = 'å¤§åŒ';
                    break;
                case 'å°åŒ':
                    killType = 'å¤§å•';
                    mainTypes = ['å°å•', 'å¤§åŒ'];
                    preventType = 'å°åŒ';
                    break;
                case 'å¤§å•':
                    killType = 'å°åŒ';
                    mainTypes = ['å¤§åŒ', 'å°å•'];
                    preventType = 'å¤§å•';
                    break;
                case 'å°å•':
                    killType = 'å¤§åŒ';
                    mainTypes = ['å°åŒ', 'å¤§å•'];
                    preventType = 'å°å•';
                    break;
                default:
                    killType = 'æœªçŸ¥';
                    mainTypes = ['æœªçŸ¥', 'æœªçŸ¥'];
                    preventType = 'æœªçŸ¥';
            }
            
            return {
                period: predictedPeriod,
                resultType,
                killType,
                mainTypes,
                preventType,
                basedOnCurrentPeriod: current.period,
                step1,
                lastThreeDigits,
                D2,
                S,
                predictedTime: new Date().toLocaleString()
            };
        }
        
        // æ˜¾ç¤ºæœ€æ–°é¢„æµ‹ï¼ˆæ–°ç‰ˆæœ¬ï¼‰
        function displayPredictionNew(prediction) {
            // æ˜¾ç¤ºæœ€æ–°é¢„æµ‹
            document.getElementById('predictionPeriod').textContent = 
                `${prediction.period}æœŸ`;
            
            document.getElementById('predictionCombination').innerHTML = 
                `<span class="badge ${getTypeClass(prediction.mainTypes[0])}">${prediction.mainTypes[0]}</span> 
                 <span class="badge ${getTypeClass(prediction.preventType)}">${prediction.mainTypes[1]}</span> 
                 é˜² <span class="badge ${getTypeClass(prediction.mainTypes[1])}">${prediction.preventType}</span>`;
            
            document.getElementById('killType').innerHTML = 
                `<span class="badge ${getTypeClass(prediction.killType)}">${prediction.killType}</span>`;
        }
        
        // æ˜¾ç¤ºæœ€è¿‘10æœŸå¼€å¥–ç»“æœ
        function displayRecentResults(results) {
            const resultTableBody = document.getElementById('resultTableBody');
            resultTableBody.innerHTML = '';
            
            if (results.length > 0) {
                results.forEach(result => {
                    const row = document.createElement('tr');
                    
                    // æ ¼å¼åŒ–å¼€å¥–æ—¶é—´
                    const openTime = result.opentime_text || 
                                    (result.opentime ? new Date(result.opentime).toLocaleString() : '--');
                    
                    row.innerHTML = `
                        <td>${result.period}</td>
                        <td>
                            <div class="number-balls">
                                <span class="ball">${result.a}</span>
                                <span class="ball">${result.b}</span>
                                <span class="ball">${result.c}</span>
                            </div>
                        </td>
                        <td><strong>${result.h}</strong></td>
                        <td><span class="badge ${getTypeClass(result.type)}">${result.type}</span></td>
                        <td><small>${openTime}</small></td>
                    `;
                    
                    resultTableBody.appendChild(row);
                });
            } else {
                resultTableBody.innerHTML = `<tr><td colspan="5">æš‚æ— å¼€å¥–æ•°æ®</td></tr>`;
            }
        }
        
        // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
        function displayError(message) {
            document.getElementById('predictionPeriod').textContent = 'åŠ è½½å¤±è´¥';
            document.getElementById('predictionCombination').textContent = message;
            document.getElementById('killType').textContent = '--';
            
            const resultTableBody = document.getElementById('resultTableBody');
            resultTableBody.innerHTML = `<tr><td colspan="5">æ•°æ®åŠ è½½å¤±è´¥: ${message}</td></tr>`;
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŠ è½½æ•°æ®
            fetchAndProcessData();
            
            // åˆ·æ–°æŒ‰é’®äº‹ä»¶
            document.getElementById('refreshBtn').addEventListener('click', function() {
                // é‡æ–°è·å–æ•°æ®
                fetchAndProcessData();
                
                // æŒ‰é’®åé¦ˆ
                const btn = this;
                const originalText = btn.textContent;
                btn.textContent = 'ğŸ”„ æ›´æ–°ä¸­...';
                btn.disabled = true;
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                }, 2000);
            });
            
            // æ¯3åˆ†é’Ÿè‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡æ•°æ®
            setInterval(() => {
                fetchAndProcessData();
            }, 3 * 60 * 1000);
        });
    </script>
</body>
</html>
    </div>
    
    <!-- ä¿æŠ¤æ€§scriptæ ‡ç­¾ï¼šç¡®ä¿ç”¨æˆ·å†…å®¹ä¸­çš„æœªé—­åˆscriptæ ‡ç­¾ä¸ä¼šå½±å“åç»­ä»£ç  -->
    <!-- å¿…é¡»ç´§è·Ÿåœ¨ç”¨æˆ·å†…å®¹ä¹‹åï¼Œåœ¨æµ®åŠ¨æŒ‰é’®HTMLä¹‹å‰ï¼Œç¡®ä¿æ­£ç¡®é—­åˆç”¨æˆ·å†…å®¹ä¸­å¯èƒ½å­˜åœ¨çš„æœªé—­åˆscriptæ ‡ç­¾ -->
    <script type="text/javascript"></script>
    
    <!-- ç”¨æˆ·å†…å®¹åŠ è½½åè®°å½• -->
    <script>
        // å¦‚æœå‡½æ•°è¢«è¦†ç›–æˆ–ä¸¢å¤±ï¼Œå°è¯•æ¢å¤
        if (typeof window.handleLike !== 'function') {
            // å‡½æ•°ä¸¢å¤±ï¼Œå·²åœ¨headä¸­å®šä¹‰ï¼Œä¸åº”è¯¥ä¸¢å¤±
        }
    </script>
    
    <style>
        /* å†…å®¹å®¹å™¨ - æœ€å°åŒ–æ ·å¼ï¼Œä¸å½±å“ç”¨æˆ·å†…å®¹ */
        .content-wrapper {
            position: relative !important;
            overflow-x: hidden !important;
        }
    </style>
    
    <!-- æ‰‹æœºç«¯å±•å¼€é®ç½©å±‚ -->
    <div class="floating-buttons-overlay" id="floatingButtonsOverlay" onclick="if(typeof window.toggleFloatingButtons === 'function') { window.toggleFloatingButtons(); } else if(typeof toggleFloatingButtons === 'function') { toggleFloatingButtons(); }"></div>
    
    <!-- å³ä¸‹è§’å›ºå®šæµ®å±‚æŒ‰é’®ç»„ - ä½¿ç”¨IDå’Œå†…è”æ ·å¼ç¡®ä¿æ ·å¼ä¸è¢«ç”¨æˆ·å†…å®¹è¦†ç›– -->
    <div class="floating-action-buttons" id="dkfile-floating-buttons" style="position: fixed !important; bottom: 80px !important; right: 20px !important; left: auto !important; top: auto !important; z-index: 10000 !important; display: flex !important; flex-direction: column-reverse !important; gap: 8px !important; margin: 0 !important; padding: 0 !important; width: auto !important; height: auto !important; transform: none !important; opacity: 1 !important; visibility: visible !important; pointer-events: auto !important;">
        <!-- æ‰‹æœºç«¯ä¸»èœå•æŒ‰é’®ï¼ˆé»˜è®¤åœ¨åº•éƒ¨ï¼Œå±•å¼€æ—¶åœ¨æœ€ä¸Šæ–¹ï¼‰ -->
        <button class="floating-btn floating-menu-btn" id="floatingMenuBtn" onclick="if(typeof window.toggleFloatingButtons === 'function') { window.toggleFloatingButtons(); } else if(typeof toggleFloatingButtons === 'function') { toggleFloatingButtons(); }" title="å±•å¼€/æ”¶èµ·åŠŸèƒ½æŒ‰é’®">
            <i class="bi bi-plus-lg" id="menuBtnIcon"></i>
        </button>
        
        <!-- æˆ‘çš„å·¥å…·æŒ‰é’® -->
        <button class="floating-btn my-tools-btn" id="myToolsBtn" data-label="æˆ‘çš„å·¥å…·" onclick="if(typeof window.handleMyTools === 'function') { window.handleMyTools(); } else { alert('æˆ‘çš„å·¥å…·åŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨'); }" title="æˆ‘çš„å·¥å…·">
            <i class="bi bi-person-circle"></i>
        </button>
        
        <!-- åˆ†äº«æŒ‰é’® -->
        <button class="floating-btn share-btn" data-label="åˆ†äº«" onclick="if(typeof window.handleShare === 'function') { window.handleShare(); } else { alert('åˆ†äº«åŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨'); }" title="åˆ†äº«åˆ°æ¨ç‰¹ã€å¾®åš">
            <i class="bi bi-share"></i>
        </button>
        
        <!-- åé¦ˆæŒ‰é’® -->
        <button class="floating-btn feedback-btn" data-label="åé¦ˆ" onclick="if(typeof window.handleFeedback === 'function') { window.handleFeedback(); } else { alert('åé¦ˆåŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨'); }" title="åé¦ˆé—®é¢˜æˆ–å»ºè®®">
<i class="bi bi-chat-dots"></i>
        </button>
        
        <!-- æ”¶è—æŒ‰é’® -->
        <button class="floating-btn favorite-btn" data-label="æ”¶è—" onclick="if(typeof window.handleFavorite === 'function') { window.handleFavorite(); } else { alert('æ”¶è—åŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨'); }" title="åœ¨ç”¨æˆ·ä¸­å¿ƒä¼šå±•ç¤ºï¼Œå¸®ä½ æ›´å¿«é€Ÿè®¿é—®è¿™äº›å·¥å…·">
            <i class="bi bi-bookmark"></i>
        </button>
        
        <!-- ç‚¹èµæŒ‰é’® -->
        <button class="floating-btn like-btn" data-label="ç‚¹èµ" onclick="if(typeof window.handleLike === 'function') { window.handleLike(); } else { alert('ç‚¹èµåŠŸèƒ½æš‚æ—¶ä¸å¯ç”¨'); }" title="ä½ çš„ç‚¹èµä¼šæŠŠè¿™ä¸ªå·¥å…·åœ¨å·¥å…·åº“ä¼˜å…ˆæ¨èç»™æ›´å¤šäºº">
            <i class="bi bi-heart"></i>
        </button>
    </div>
    
    <!-- å¹³å°æ ‡è¯† - é›†æˆåˆ°æµ®åŠ¨æŒ‰é’®ç»„ä¸‹æ–¹ï¼Œä½¿ç”¨ç›¸åŒçš„fixedå®šä½æœºåˆ¶ -->
    <!-- VIPç”¨æˆ·ä¸æ˜¾ç¤ºå¹³å°æ ‡è¯†ï¼ŒéVIPç”¨æˆ·æ˜¾ç¤ºå¹³å°æ ‡è¯† -->
    <!-- PCç«¯æ˜¾ç¤ºï¼Œæ‰‹æœºç«¯éšè—ï¼ˆé¿å…é®æŒ¡ç”¨æˆ·å†…å®¹ï¼‰ -->
    
    <div id="dkfile-platform-footer-in-buttons" style="position: fixed !important; bottom: 10px !important; right: 20px !important; left: auto !important; top: auto !important; z-index: 10000 !important; display: flex !important; justify-content: flex-end !important; align-items: center !important; visibility: visible !important; opacity: 1 !important; pointer-events: auto !important; margin: 0 !important; padding: 6px 12px !important; width: auto !important; box-sizing: border-box !important; transform: none !important; background: rgba(255, 255, 255, 0.9) !important; backdrop-filter: blur(10px) !important; border-radius: 8px !important; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important; font-size: 11px !important; color: #666 !important; line-height: 1.4 !important;">
        <span style="margin-right: 4px;">ç”±ä½œè€…å‘å¸ƒåœ¨</span>
        <a href="/" style="color: #28a745 !important; text-decoration: none !important; margin: 0 2px !important;" title="DKFile - å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å° | Free HTML Website Hosting - å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å°" onclick="if(typeof logClick === 'function') { logClick('dkfile_link'); }" rel="nofollow">DKFile</a>
        <span style="margin: 0 4px;">å¹³å°ï¼Œ</span>
        <a href="/blog/idolaoxuzuixinbanjieshao" target="_blank" rel="noopener nofollow" style="color: #28a745 !important; text-decoration: none !important; margin: 0 2px !important;" title="æŠ€æœ¯æ”¯æŒï¼Œæœ‰ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥æ‰¾æˆ‘" onclick="if(typeof logClick === 'function') { logClick('tech_support'); }">æŠ€æœ¯æ”¯æŒ IDOè€å¾</a>
    </div>
    

    
    <script>
        // åœ¨bodyä¸­å†æ¬¡åˆå§‹åŒ–pageDataï¼ˆå¦‚æœheadä¸­çš„åˆå§‹åŒ–å¤±è´¥ï¼Œè¿™é‡Œä½œä¸ºå¤‡ç”¨ï¼‰
        // åŒæ—¶ç¡®ä¿å…¼å®¹æ€§ï¼ˆå®šä¹‰å±€éƒ¨å˜é‡ï¼‰

        try {
            // å¦‚æœheadä¸­çš„åˆå§‹åŒ–å¤±è´¥ï¼Œè¿™é‡Œé‡æ–°åˆå§‹åŒ–
            if (typeof window.pageData === 'undefined' || !window.pageData || !window.pageData.fileId) {
                
                window.pageData = {"author": "qinci", "fileId": 18874, "fileName": "daoshi.html", "projectName": "daoshi"};
                window.currentUserAuthenticated = false;
            }
            
            // ä¸ºäº†å…¼å®¹æ€§ï¼Œä¹Ÿå®šä¹‰å±€éƒ¨å˜é‡ï¼ˆä½†ä¼˜å…ˆä½¿ç”¨windowä¸Šçš„ï¼‰
            const pageData = window.pageData;
            const currentUserAuthenticated = window.currentUserAuthenticated;
        
        // è°ƒè¯•ä¿¡æ¯

        } catch (error) {

            // ç¡®ä¿è‡³å°‘æœ‰ä¸€ä¸ªç©ºå¯¹è±¡
            window.pageData = window.pageData || {};
            window.currentUserAuthenticated = window.currentUserAuthenticated || false;
        }
        
        // HTMLæ–‡ä»¶å®Œæ•´æ€§æ£€æµ‹
        function validateHtmlFile() {
            const issues = [];
            
            // æ£€æµ‹æ˜¯å¦æœ‰å¤šä¸ª DOCTYPE html
            const doctypeCount = document.querySelectorAll('html').length;
            if (doctypeCount > 1) {
                issues.push(`æ£€æµ‹åˆ° ${doctypeCount} ä¸ªHTMLæ–‡æ¡£ç»“æ„ï¼Œæ–‡ä»¶å¯èƒ½åŒ…å«é‡å¤å†…å®¹`);
            }
            
            // æ£€æµ‹æ˜¯å¦æœ‰å¤šä¸ª title æ ‡ç­¾
            const titleCount = document.querySelectorAll('title').length;
            if (titleCount > 1) {
                issues.push(`æ£€æµ‹åˆ° ${titleCount} ä¸ªtitleæ ‡ç­¾ï¼Œæ–‡ä»¶ç»“æ„å¼‚å¸¸`);
            }
            
            // æ£€æµ‹æ˜¯å¦æœ‰å¤šä¸ª body æ ‡ç­¾
            const bodyCount = document.querySelectorAll('body').length;
            if (bodyCount > 1) {
                issues.push(`æ£€æµ‹åˆ° ${bodyCount} ä¸ªbodyæ ‡ç­¾ï¼Œæ–‡ä»¶ç»“æ„å¼‚å¸¸`);
            }
            
            // æ£€æµ‹æ˜¯å¦æœ‰å¤šä¸ª pageData å¯¹è±¡ï¼ˆé€šè¿‡è„šæœ¬å†…å®¹æ£€æµ‹ï¼‰
            const scripts = document.querySelectorAll('script');
            let pageDataCount = 0;
            scripts.forEach(script => {
                if (script.textContent && script.textContent.includes('pageData')) {
                    pageDataCount++;
                }
            });
            if (pageDataCount > 1) {
                issues.push(`æ£€æµ‹åˆ° ${pageDataCount} ä¸ªpageDataå¯¹è±¡ï¼Œå¯èƒ½å¯¼è‡´åŠŸèƒ½å¼‚å¸¸`);
            }
            
            return issues;
        }
        
        // æ™ºèƒ½ pageData é€‰æ‹©
        function getValidPageData() {
            // å¦‚æœå½“å‰ pageData æœ‰æ•ˆï¼Œç›´æ¥ä½¿ç”¨
            if (pageData && pageData.fileId && pageData.fileId !== 'null' && pageData.fileId !== null) {
                return pageData;
            }
            
            // å°è¯•ä»é¡µé¢ä¸­æŸ¥æ‰¾å…¶ä»– pageData å¯¹è±¡
            const scripts = document.querySelectorAll('script');
            let foundPageData = null;
            
            for (let script of scripts) {
                if (script.textContent && script.textContent.includes('pageData')) {
                    try {
                        // å°è¯•æå– pageData å¯¹è±¡
                        const match = script.textContent.match(/const\s+pageData\s*=\s*({[^}]+})/);
                        if (match) {
                            const dataStr = match[1];
                            // ç®€å•çš„å¯¹è±¡è§£æ
                            const fileIdMatch = dataStr.match(/fileId:\s*(\d+)/);
                            if (fileIdMatch) {
                                foundPageData = {
                                    fileId: parseInt(fileIdMatch[1]),
                                    fileName: 'auto-detected',
                                    projectName: 'auto-detected',
                                    author: 'auto-detected'
                                };
                                break;
                            }
                        }
                    } catch (e) {
                        // é™é»˜å¤„ç†é”™è¯¯
                    }
                }
            }
            
            return foundPageData || pageData;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè¿›è¡Œå®Œæ•´æ€§æ£€æŸ¥
        document.addEventListener('DOMContentLoaded', function() {
            validateHtmlFile();
        });
        
        // å…¨å±€é”™è¯¯å¤„ç† - å¢å¼ºç‰ˆï¼Œé™é»˜å¤„ç†è¯­æ³•é”™è¯¯
        window.addEventListener('error', function(event) {
            // æ£€æŸ¥æ˜¯å¦æ˜¯è¯­æ³•é”™è¯¯
            const isSyntaxError = event.message && (
                event.message.includes('SyntaxError') ||
                event.message.includes('Unexpected token') ||
                event.message.includes('Unexpected end') ||
                event.message.includes('Unexpected identifier') ||
                (event.error && event.error.name === 'SyntaxError')
            );
            
            // å¦‚æœæ˜¯è¯­æ³•é”™è¯¯ï¼Œé™é»˜å¤„ç†
            if (isSyntaxError) {
                event.preventDefault(); // é˜»æ­¢é»˜è®¤é”™è¯¯å¤„ç†
                return;
            }
            
            // å…¶ä»–é”™è¯¯æ­£å¸¸è®°å½•ï¼ˆä¿ç•™é”™è¯¯æ—¥å¿—ç”¨äºè°ƒè¯•ï¼‰
            console.error('å…¨å±€é”™è¯¯:', {
                message: event.message,
                filename: event.filename,
                lineno: event.lineno,
                colno: event.colno,
                error: event.error
            });
        });
        
        // æœªå¤„ç†çš„Promiseæ‹’ç»å¤„ç†
        window.addEventListener('unhandledrejection', function(event) {
            // æ£€æŸ¥æ˜¯å¦æ˜¯è¯­æ³•é”™è¯¯ç›¸å…³çš„Promiseæ‹’ç»
            const reason = event.reason;
            const isSyntaxError = reason && (
                (typeof reason === 'string' && reason.includes('SyntaxError')) ||
                (reason instanceof Error && reason.name === 'SyntaxError')
            );
            
            if (isSyntaxError) {
                event.preventDefault(); // é˜»æ­¢é»˜è®¤é”™è¯¯å¤„ç†
                return;
            }
            
            // ä¿ç•™é”™è¯¯æ—¥å¿—ç”¨äºè°ƒè¯•
            console.error('æœªå¤„ç†çš„Promiseæ‹’ç»:', {
                reason: event.reason,
                promise: event.promise
            });
        });
        
        // ç‚¹å‡»è®°å½•å‡½æ•°
        function logClick(action) {
            try {
                // ä½¿ç”¨æ™ºèƒ½ pageData é€‰æ‹©
                const validPageData = getValidPageData();
                const fileId = validPageData && validPageData.fileId ? validPageData.fileId : null;
                
                // å³ä½¿æ²¡æœ‰file_idä¹Ÿè®°å½•æ—¥å¿—ï¼ˆç”¨äºèœå•å±•å¼€/æ”¶èµ·ç­‰æ“ä½œï¼‰
                const logData = {
                    log_type: 'footer_click',
                    action: action,
                    extra_data: JSON.stringify({
                        page_url: window.location.href,
                        page_title: document.title,
                        timestamp: new Date().toISOString(),
                        file_name: validPageData ? validPageData.fileName : null,
                        project_name: validPageData ? validPageData.projectName : null,
                        author: validPageData ? validPageData.author : null
                    })
                };
                
                // å¦‚æœæœ‰file_idï¼Œæ·»åŠ åˆ°æ—¥å¿—æ•°æ®ä¸­
                if (fileId) {
                    logData.file_id = fileId;
                }
                
                // å‘é€ç‚¹å‡»è®°å½•è¯·æ±‚
                fetch('/api/log_click', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(logData)
                }).then(response => {
                    // é™é»˜å¤„ç†å“åº”
                }).catch(error => {
                    // é™é»˜å¤„ç†é”™è¯¯ï¼Œä¸å½±å“ç”¨æˆ·ä½“éªŒ
                });
            } catch (error) {
                // é™é»˜å¤„ç†é”™è¯¯
            }
        }
        
        // æ£€æµ‹æµ®åŠ¨æŒ‰é’®æ ·å¼æ˜¯å¦æ­£å¸¸
        function checkFloatingButtonsStyle() {
            // ä¼˜å…ˆä½¿ç”¨IDé€‰æ‹©å™¨ï¼Œæ›´ç²¾ç¡®
            const floatingButtons = document.getElementById('dkfile-floating-buttons') || document.querySelector('.floating-action-buttons');
            if (!floatingButtons) return false;
            
            try {
                const computedStyle = window.getComputedStyle(floatingButtons);
                const rect = floatingButtons.getBoundingClientRect();
                const isMobile = window.innerWidth <= 768;
                
                // æ£€æŸ¥åŸºæœ¬å¯è§æ€§
                if (computedStyle.display === 'none' || 
                    computedStyle.visibility === 'hidden' ||
                    parseFloat(computedStyle.opacity) < 0.1 ||
                    floatingButtons.offsetParent === null) {
                    return false;
                }
                
                // æ£€æŸ¥ä½ç½®ï¼šåº”è¯¥åœ¨å³ä¸‹è§’
                const expectedRight = isMobile ? 10 : 20;
                const expectedBottom = isMobile ? 70 : 80;
                const actualRight = window.innerWidth - rect.right;
                const actualBottom = window.innerHeight - rect.bottom;
                
                // å…è®¸10pxçš„è¯¯å·®
                if (Math.abs(actualRight - expectedRight) > 50 || 
                    Math.abs(actualBottom - expectedBottom) > 50) {
                    return false;
                }
                
                // æ£€æŸ¥position
                if (computedStyle.position !== 'fixed') {
                    return false;
                }
                
                // æ£€æŸ¥æŒ‰é’®æ•°é‡ï¼ˆåº”è¯¥æœ‰4ä¸ªï¼‰
                const buttons = floatingButtons.querySelectorAll('.floating-btn');
                if (buttons.length < 3) {
                    return false;
                }
                
                // æ£€æŸ¥æŒ‰é’®æ ·å¼æ˜¯å¦æ­£å¸¸
                let validButtons = 0;
                buttons.forEach(btn => {
                    const btnStyle = window.getComputedStyle(btn);
                    const btnRect = btn.getBoundingClientRect();
                    const expectedSize = isMobile ? 36 : 40;
                    
                    // æ£€æŸ¥å°ºå¯¸
                    if (Math.abs(btnRect.width - expectedSize) < 10 && 
                        Math.abs(btnRect.height - expectedSize) < 10 &&
                        btnStyle.display !== 'none' &&
                        btnStyle.visibility !== 'hidden') {
                        validButtons++;
                    }
                });
                
                // è‡³å°‘è¦æœ‰3ä¸ªæŒ‰é’®æ­£å¸¸
                return validButtons >= 3;
            } catch (error) {

                return false;
            }
        }
        
        // æ£€æŸ¥å¹¶ä¿®å¤å¯èƒ½å½±å“fixedå®šä½çš„çˆ¶å…ƒç´ æ ·å¼ï¼ˆä½¿ç”¨å…¨å±€å‡½æ•°å¦‚æœå­˜åœ¨ï¼‰
        function fixFixedPositioningAncestors(element) {
            // ä¼˜å…ˆä½¿ç”¨headä¸­å®šä¹‰çš„å…¨å±€å‡½æ•°
            if (typeof window.fixFixedPositioningAncestors === 'function') {
                return window.fixFixedPositioningAncestors(element);
            }
            
            // é™çº§æ–¹æ¡ˆï¼šæœ¬åœ°å®ç°
            if (!element || !element.parentElement) return false;
            
            let current = element.parentElement;
            const problematicProps = ['transform', 'perspective', 'filter', 'will-change'];
            
            while (current && current !== document.body && current !== document.documentElement) {
                const computedStyle = window.getComputedStyle(current);
                
                // æ£€æŸ¥æ˜¯å¦æœ‰å½±å“fixedå®šä½çš„å±æ€§
                for (const prop of problematicProps) {
                    const value = computedStyle.getPropertyValue(prop);
                    if (value && value !== 'none' && value !== 'auto' && value !== 'initial') {
                        // å¦‚æœçˆ¶å…ƒç´ æœ‰è¿™äº›å±æ€§ï¼Œéœ€è¦å°†å®¹å™¨ç§»åˆ°bodyä¸‹

                        return true; // éœ€è¦ç§»åŠ¨å®¹å™¨
                    }
                }
                
                // æ£€æŸ¥positionæ˜¯å¦ä¸ºfixedæˆ–absoluteï¼ˆè¿™äº›ä¹Ÿå¯èƒ½å½±å“ï¼‰
                const position = computedStyle.position;
                if (position === 'fixed' || position === 'absolute') {
                    // å¦‚æœçˆ¶å…ƒç´ æ˜¯fixedæˆ–absoluteï¼Œæ£€æŸ¥æ˜¯å¦æœ‰transformç­‰å±æ€§
                    const transform = computedStyle.transform;
                    if (transform && transform !== 'none') {

                        return true; // éœ€è¦ç§»åŠ¨å®¹å™¨
                    }
                }
                
                current = current.parentElement;
            }
            
            return false; // ä¸éœ€è¦ç§»åŠ¨
        }
        
        // å¼ºåˆ¶ä¿®å¤å¹³å°æ ‡è¯†ä½ç½® - å·²ç®€åŒ–ï¼Œåªæ£€æŸ¥æ–°çš„ #dkfile-platform-footer-in-buttons
        function forceFixPlatformFooter() {
            // æ–°çš„å¹³å°æ ‡è¯†å·²é›†æˆåˆ°æµ®åŠ¨æŒ‰é’®ç»„ä¸­ï¼Œæ— éœ€é¢å¤–ä¿®å¤
            // ä¿ç•™æ­¤å‡½æ•°ç”¨äºå‘åå…¼å®¹ï¼Œä½†ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
            return;
        }
        
        // å…œåº•æ–¹æ¡ˆï¼šå¦‚æœæ ·å¼å¼‚å¸¸ï¼Œéšè—å¹³å°å…ƒç´ 
        function applyFallbackStyle() {
            const floatingButtons = document.getElementById('dkfile-floating-buttons') || document.querySelector('.floating-action-buttons');
            const buttonsStyleOk = checkFloatingButtonsStyle();
            
            if (!buttonsStyleOk && floatingButtons) {
                floatingButtons.style.setProperty('display', 'none', 'important');
            } else if (floatingButtons) {
                floatingButtons.style.setProperty('display', 'flex', 'important');
            }
        }
        
        // å¯åŠ¨æ ·å¼æ£€æµ‹å’Œä¿æŠ¤æœºåˆ¶
        function startStyleProtection() {
            // åˆå§‹æ£€æµ‹
            applyFallbackStyle();
        }
        
        // æ™ºèƒ½é…è‰²ç³»ç»Ÿ - æ ¹æ®é¡µé¢èƒŒæ™¯è‡ªåŠ¨è°ƒæ•´å¹³å°æ ‡è¯†æ–‡å­—é¢œè‰²
        function applyAdaptiveColorScheme() {
            try {

                const platformFooter = document.getElementById('dkfile-platform-footer') || document.querySelector('.platform-footer');
                if (!platformFooter) {

                    return;
                }
                
                // è·å–content-wrapperå…ƒç´ ï¼ˆç”¨æˆ·å†…å®¹åŒºåŸŸï¼‰
                const contentWrapper = document.querySelector('.content-wrapper');
                if (!contentWrapper) {

                    return;
                }
                
                // è·å–content-wrapperçš„è®¡ç®—æ ·å¼ï¼ˆåŒ…æ‹¬ç»§æ‰¿çš„èƒŒæ™¯è‰²ï¼‰
                const computedStyle = window.getComputedStyle(contentWrapper);
                let backgroundColor = computedStyle.backgroundColor;
                
                // å¦‚æœèƒŒæ™¯è‰²æ˜¯é€æ˜æˆ–rgbaï¼Œå°è¯•å‘ä¸ŠæŸ¥æ‰¾çˆ¶å…ƒç´ çš„èƒŒæ™¯è‰²
                if (!backgroundColor || backgroundColor === 'rgba(0, 0, 0, 0)' || backgroundColor === 'transparent') {
                    // æ£€æŸ¥bodyçš„èƒŒæ™¯è‰²
                    const bodyStyle = window.getComputedStyle(document.body);
                    backgroundColor = bodyStyle.backgroundColor;
                    
                    // å¦‚æœbodyä¹Ÿæ˜¯é€æ˜ï¼Œæ£€æŸ¥html
                    if (!backgroundColor || backgroundColor === 'rgba(0, 0, 0, 0)' || backgroundColor === 'transparent') {
                        const htmlStyle = window.getComputedStyle(document.documentElement);
                        backgroundColor = htmlStyle.backgroundColor;
                    }
                }

                // å¦‚æœä»ç„¶æ²¡æœ‰æ£€æµ‹åˆ°æœ‰æ•ˆçš„èƒŒæ™¯è‰²ï¼Œä½¿ç”¨é»˜è®¤æµ…è‰²æ¨¡å¼
                if (!backgroundColor || backgroundColor === 'rgba(0, 0, 0, 0)' || backgroundColor === 'transparent') {

                    platformFooter.classList.remove('adaptive-dark');
                    platformFooter.classList.add('adaptive-light');
                    return;
                }
                
                // è§£æRGBé¢œè‰²å€¼
                function parseRGB(rgbString) {
                    // åŒ¹é… rgb(r, g, b) æˆ– rgba(r, g, b, a) æ ¼å¼
                    const match = rgbString.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);
                    if (match) {
                        return {
                            r: parseInt(match[1]),
                            g: parseInt(match[2]),
                            b: parseInt(match[3])
                        };
                    }
                    return null;
                }
                
                // è®¡ç®—é¢œè‰²çš„ç›¸å¯¹äº®åº¦ï¼ˆWCAGæ ‡å‡†ï¼‰
                function getLuminance(rgb) {
                    // è½¬æ¢ä¸º0-1èŒƒå›´
                    const [r, g, b] = [rgb.r / 255, rgb.g / 255, rgb.b / 255];
                    
                    // åº”ç”¨gammaæ ¡æ­£
                    const adjust = (val) => {
                        return val <= 0.03928 ? val / 12.92 : Math.pow((val + 0.055) / 1.055, 2.4);
                    };
                    
                    // è®¡ç®—ç›¸å¯¹äº®åº¦
                    return 0.2126 * adjust(r) + 0.7152 * adjust(g) + 0.0722 * adjust(b);
                }
                
                // è®¡ç®—äº®åº¦ï¼ˆç®€å•çš„äº®åº¦è®¡ç®—ï¼Œ0-255ï¼‰
                function getBrightness(rgb) {
                    // ä½¿ç”¨åŠ æƒå¹³å‡å€¼è®¡ç®—äº®åº¦
                    return (rgb.r * 0.299 + rgb.g * 0.587 + rgb.b * 0.114);
                }
                
                const rgb = parseRGB(backgroundColor);
                if (!rgb) {

                    platformFooter.classList.remove('adaptive-dark');
                    platformFooter.classList.add('adaptive-light');
                    return;
                }
                
                // è®¡ç®—äº®åº¦å’Œå¯¹æ¯”åº¦
                const brightness = getBrightness(rgb);
                const luminance = getLuminance(rgb);

                // åˆ¤æ–­æ˜¯æµ…è‰²è¿˜æ˜¯æ·±è‰²èƒŒæ™¯
                // ä½¿ç”¨ä¸¤ä¸ªæ ‡å‡†ï¼šäº®åº¦é˜ˆå€¼å’Œç›¸å¯¹äº®åº¦é˜ˆå€¼
                // å¦‚æœäº®åº¦ < 128 æˆ–ç›¸å¯¹äº®åº¦ < 0.5ï¼Œè®¤ä¸ºæ˜¯æ·±è‰²èƒŒæ™¯
                const isDarkBackground = brightness < 128 || luminance < 0.5;

                // åº”ç”¨å¯¹åº”çš„é…è‰²æ–¹æ¡ˆ
                if (isDarkBackground) {
                    platformFooter.classList.remove('adaptive-light');
                    platformFooter.classList.add('adaptive-dark');
                } else {
                    platformFooter.classList.remove('adaptive-dark');
                    platformFooter.classList.add('adaptive-light');
                }
                
            } catch (error) {
                // å‡ºé”™æ—¶ä½¿ç”¨é»˜è®¤æµ…è‰²æ¨¡å¼
                const platformFooter = document.getElementById('dkfile-platform-footer') || document.querySelector('.platform-footer');
                if (platformFooter) {
                    platformFooter.classList.remove('adaptive-dark');
                    platformFooter.classList.add('adaptive-light');
                }
            }
        }
        
        // åˆå§‹åŒ–æ‰‹æœºç«¯æŒ‰é’®åˆå¹¶åŠŸèƒ½
        function initMobileButtonMerge() {
            try {
                const floatingButtons = document.getElementById('dkfile-floating-buttons');
                if (!floatingButtons) {
                    return;
                }
                
                const isMobile = window.innerWidth <= 768;
                const menuBtn = document.getElementById('floatingMenuBtn');
                
                if (isMobile) {
                    // æ‰‹æœºç«¯ï¼šé»˜è®¤æ”¶èµ·çŠ¶æ€
                    floatingButtons.classList.remove('expanded');
                    if (menuBtn) {
                        // å¼ºåˆ¶æ˜¾ç¤ºèœå•æŒ‰é’®ï¼ˆä½¿ç”¨å¤šç§æ–¹å¼ç¡®ä¿ç”Ÿæ•ˆï¼‰
                        menuBtn.style.setProperty('display', 'flex', 'important');
                        menuBtn.style.display = 'flex';
                        menuBtn.style.visibility = 'visible';
                        menuBtn.style.opacity = '1';
                    }
                    
                    // ç‚¹å‡»å…¶ä»–æŒ‰é’®æ—¶ï¼Œå¦‚æœæ˜¯æ‰‹æœºç«¯ä¸”å·²å±•å¼€ï¼Œè‡ªåŠ¨æ”¶èµ·
                    const actionButtons = floatingButtons.querySelectorAll('.floating-btn:not(.floating-menu-btn)');
                    actionButtons.forEach(btn => {
                        // ç§»é™¤æ—§çš„äº‹ä»¶ç›‘å¬å™¨ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
                        const newBtn = btn.cloneNode(true);
                        btn.parentNode.replaceChild(newBtn, btn);
                        
                        // æ·»åŠ æ–°çš„äº‹ä»¶ç›‘å¬å™¨
                        newBtn.addEventListener('click', function() {
                            // å»¶è¿Ÿä¸€ä¸‹å†æ”¶èµ·ï¼Œè®©ç”¨æˆ·çœ‹åˆ°ç‚¹å‡»æ•ˆæœ
                            setTimeout(function() {
                                if (typeof window.toggleFloatingButtons === 'function') {
                                    window.toggleFloatingButtons();
                                }
                            }, 300);
                        });
                    });

                } else {
                    // PCç«¯ï¼šå§‹ç»ˆå±•å¼€
                    floatingButtons.classList.add('expanded');
                    if (menuBtn) {
                        menuBtn.style.display = 'none';
                    }
                }
            } catch (error) {
                // é™é»˜å¤„ç†é”™è¯¯
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåå¯åŠ¨æ ·å¼æ£€æµ‹
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–æ‰‹æœºç«¯æŒ‰é’®åˆå¹¶åŠŸèƒ½
            initMobileButtonMerge();
            
            // æ£€æŸ¥ç™»å½•çŠ¶æ€å¹¶è®¾ç½®"æˆ‘çš„å·¥å…·"æŒ‰é’®æ ·å¼
            const isAuthenticated = typeof window.currentUserAuthenticated !== 'undefined' 
                ? window.currentUserAuthenticated 
                : (typeof currentUserAuthenticated !== 'undefined' ? currentUserAuthenticated : false);
            const myToolsBtn = document.getElementById('myToolsBtn');
            if (myToolsBtn && isAuthenticated) {
                myToolsBtn.classList.add('logged-in');
            }
            
            // ç›‘å¬çª—å£å¤§å°å˜åŒ–ï¼Œé‡æ–°åˆå§‹åŒ–
            window.addEventListener('resize', function() {
                initMobileButtonMerge();
            });
            
            // ç«‹å³å¯åŠ¨æ ·å¼ä¿æŠ¤æœºåˆ¶
            startStyleProtection();
            
            // å»¶è¿Ÿæ£€æµ‹ï¼Œç­‰å¾…ç”¨æˆ·å†…å®¹åŠ è½½å®Œæˆ
            setTimeout(function() {
                // åº”ç”¨æ™ºèƒ½é…è‰²ï¼ˆå»¶è¿Ÿæ‰§è¡Œï¼Œç¡®ä¿ç”¨æˆ·å†…å®¹å·²å®Œå…¨åŠ è½½ï¼‰
                applyAdaptiveColorScheme();
            }, 100);
            
            // è®°å½•é¡µé¢è®¿é—®
            logClick('page_view');
        });
        
        // window.onloadæ—¶ä¹Ÿå¯åŠ¨æ£€æµ‹
        window.addEventListener('load', function() {
            // åˆå§‹åŒ–æ‰‹æœºç«¯æŒ‰é’®åˆå¹¶åŠŸèƒ½
            initMobileButtonMerge();
            
            // ç«‹å³å¯åŠ¨æ ·å¼ä¿æŠ¤
            startStyleProtection();
            
            // å»¶è¿Ÿæ‰§è¡Œï¼Œç¡®ä¿DOMå®Œå…¨åŠ è½½
            setTimeout(function() {
                // åº”ç”¨æ™ºèƒ½é…è‰²ï¼ˆç¡®ä¿åœ¨å®Œå…¨åŠ è½½åï¼‰
                applyAdaptiveColorScheme();
            }, 100);
        });
        
        // ç›‘å¬é¡µé¢å†…å®¹å˜åŒ–ï¼Œå¦‚æœèƒŒæ™¯è‰²æ”¹å˜ï¼Œé‡æ–°åº”ç”¨é…è‰²
        // ä½¿ç”¨MutationObserverç›‘å¬content-wrapperçš„å˜åŒ–
        if (typeof MutationObserver !== 'undefined') {
            const colorObserver = new MutationObserver(function(mutations) {
                let shouldRecalculate = false;
                mutations.forEach(function(mutation) {
                    // å¦‚æœæ ·å¼å±æ€§æ”¹å˜ï¼Œé‡æ–°è®¡ç®—é…è‰²
                    if (mutation.type === 'attributes' && 
                        (mutation.attributeName === 'style' || mutation.attributeName === 'class')) {
                        const target = mutation.target;
                        // æ£€æŸ¥æ˜¯å¦æ˜¯content-wrapperæˆ–å…¶å­å…ƒç´ 
                        if (target.closest && target.closest('.content-wrapper')) {
                            shouldRecalculate = true;
                        }
                    }
                    // å¦‚æœå­å…ƒç´ æ·»åŠ æˆ–ç§»é™¤ï¼Œä¹Ÿå¯èƒ½å½±å“èƒŒæ™¯
                    if (mutation.type === 'childList') {
                        const target = mutation.target;
                        if (target.classList && target.classList.contains('content-wrapper')) {
                            shouldRecalculate = true;
                        }
                    }
                });
                
                if (shouldRecalculate) {
                    // é˜²æŠ–å¤„ç†ï¼Œé¿å…é¢‘ç¹é‡æ–°è®¡ç®—
                    clearTimeout(window.colorRecalculateTimer);
                    window.colorRecalculateTimer = setTimeout(function() {
                        applyAdaptiveColorScheme();
                    }, 300);
                }
            });
            
            // ç­‰å¾…DOMåŠ è½½å®Œæˆåå¼€å§‹è§‚å¯Ÿ
            document.addEventListener('DOMContentLoaded', function() {
                const contentWrapper = document.querySelector('.content-wrapper');
                if (contentWrapper) {
                    colorObserver.observe(contentWrapper, {
                        attributes: true,
                        attributeFilter: ['style', 'class'],
                        childList: true,
                        subtree: true
                    });
                }
            });
        }
        
        // é˜²æ­¢ç”¨æˆ·é€šè¿‡Object.definePropertyä¿®æ”¹styleå¯¹è±¡
        (function() {
            const platformFooter = document.querySelector('.platform-footer');
            if (platformFooter && platformFooter.style) {
                try {
                    // å°è¯•é”å®šstyleå¯¹è±¡çš„æŸäº›å±æ€§ï¼ˆå¦‚æœå¯èƒ½ï¼‰
                    const originalSetProperty = platformFooter.style.setProperty;
                    platformFooter.style.setProperty = function(property, value, priority) {
                        // å¦‚æœæ˜¯å…³é”®å±æ€§ï¼Œå¼ºåˆ¶ä½¿ç”¨important
                        const criticalProps = ['position', 'bottom', 'right', 'left', 'top', 'z-index', 'display', 'visibility', 'opacity'];
                        if (criticalProps.includes(property.toLowerCase())) {
                            return originalSetProperty.call(this, property, value, 'important');
                        }
                        return originalSetProperty.call(this, property, value, priority);
                    };
                } catch (e) {
                    // å¦‚æœæ— æ³•ä¿®æ”¹ï¼Œå¿½ç•¥é”™è¯¯
                }
            }
        })();
        
        // æ£€æŸ¥ç”¨æˆ·ç™»å½•çŠ¶æ€å’Œæ”¶è—ç‚¹èµçŠ¶æ€
            if (typeof currentUserAuthenticated !== 'undefined' && currentUserAuthenticated) {
                // è®¾ç½®"æˆ‘çš„å·¥å…·"æŒ‰é’®ä¸ºå·²ç™»å½•çŠ¶æ€ï¼ˆçº¢è‰²æ•ˆæœï¼‰
                const myToolsBtn = document.getElementById('myToolsBtn');
                if (myToolsBtn) {
                    myToolsBtn.classList.add('logged-in');
                }
                
                // ä½¿ç”¨æ™ºèƒ½ pageData é€‰æ‹©
                const validPageData = getValidPageData();
                
                if (validPageData && validPageData.fileId) {
                    // æ£€æŸ¥æ”¶è—çŠ¶æ€
                    fetch('/api/check_favorite/' + validPageData.fileId)
                        .then(response => response.json())
                        .then(data => {
                            if (data.success && data.is_favorited) {
                                const favoriteBtn = document.querySelector('.floating-btn.favorite-btn');
                                if (favoriteBtn) {
                                    favoriteBtn.classList.add('favorited');
                                    favoriteBtn.innerHTML = '<i class="bi bi-bookmark-fill"></i>';
                                }
                            }
                        })
                        .catch(error => {
                            // é™é»˜å¤„ç†é”™è¯¯
                        });
                    
                    // æ£€æŸ¥ç‚¹èµçŠ¶æ€
                    fetch('/api/check_like/' + validPageData.fileId)
                        .then(response => response.json())
                        .then(data => {
                            if (data.success && data.is_liked) {
                                const likeBtn = document.querySelector('.floating-btn.like-btn');
                                if (likeBtn) {
                                    likeBtn.classList.add('liked');
                                    likeBtn.innerHTML = '<i class="bi bi-heart-fill"></i>';
                                }
                            }
                        })
                        .catch(error => {
                            // é™é»˜å¤„ç†é”™è¯¯
                        });
                }
            }
        });
    </script>

    <!-- åé¦ˆæµ®å±‚å¼¹çª— -->
    <div id="feedbackOverlay" class="floating-overlay" onclick="if(event.target === this) closeFeedback()">
        <div class="floating-panel">
            <div class="floating-header">
                <h5 class="floating-title">
                    <i class="bi bi-chat-dots me-2"></i>é—®é¢˜åé¦ˆ
                </h5>
                <button type="button" class="floating-close" onclick="closeFeedback()" aria-label="Close">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
            <form id="feedbackForm" enctype="multipart/form-data">
                <div class="floating-body">
                    <!-- å·¥å…·ä¿¡æ¯ -->
                    <div class="feedback-tool-info">
                        <i class="bi bi-info-circle me-2"></i>
                        <strong>åé¦ˆæ¥æºï¼š</strong>daoshi
                        <br><small class="text-muted">å·¥å…·é“¾æ¥ï¼šhttp://deepseek.idoxu.com/qinci/daoshi.html</small>
                    </div>
                    
                    <!-- åé¦ˆç±»å‹ -->
                    <div class="feedback-section">
                        <label class="feedback-label">åé¦ˆç±»å‹</label>
                        <div class="feedback-type-grid">
                            <div class="feedback-type-item">
                                <input type="radio" class="feedback-type-input" name="feedback_type" id="feedback_bug" value="bug">
                                <label class="feedback-type-btn" for="feedback_bug">
                                    é—®é¢˜åé¦ˆ
                                </label>
                            </div>
                            <div class="feedback-type-item">
                                <input type="radio" class="feedback-type-input" name="feedback_type" id="feedback_feature" value="feature">
                                <label class="feedback-type-btn" for="feedback_feature">
                                    åŠŸèƒ½å»ºè®®/éœ€æ±‚
                                </label>
                            </div>
                            <div class="feedback-type-item">
                                <input type="radio" class="feedback-type-input" name="feedback_type" id="feedback_support" value="technical_support">
                                <label class="feedback-type-btn" for="feedback_support">
                                    æŠ€æœ¯æ”¯æŒ
                                </label>
                            </div>
                            <div class="feedback-type-item">
                                <input type="radio" class="feedback-type-input" name="feedback_type" id="feedback_support" value="technical_support">
                                <label class="feedback-type-btn" for="feedback_support">
                                    æŠ€æœ¯æ”¯æŒ
                                </label>
                            </div>
                            <div class="feedback-type-item">
                                <input type="radio" class="feedback-type-input" name="feedback_type" id="feedback_business" value="business_cooperation">
                                <label class="feedback-type-btn" for="feedback_business">
                                    å•†åŠ¡åˆä½œ
                                </label>
                            </div>
                            <div class="feedback-type-item">
                                <input type="radio" class="feedback-type-input" name="feedback_type" id="feedback_other" value="other" checked>
                                <label class="feedback-type-btn" for="feedback_other">
                                    å…¶ä»–
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- åé¦ˆå†…å®¹ -->
                    <div class="feedback-section">
                        <label for="feedbackContent" class="feedback-label">åé¦ˆå†…å®¹</label>
                        <div class="feedback-textarea-wrapper">
                            <textarea class="feedback-textarea" 
                                      id="feedbackContent" 
                                      name="description" 
                                      rows="4" 
                                      placeholder="è¯·è¯¦ç»†æè¿°æ‚¨çš„é—®é¢˜æˆ–å»ºè®®..." 
                                      maxlength="1000" 
                                      required></textarea>
                            <div class="feedback-char-count" id="charCount">0/1000</div>
                        </div>
                        <div class="feedback-hint">
                            <i class="bi bi-info-circle me-1"></i>è¯·å°½å¯èƒ½è¯¦ç»†åœ°æè¿°ï¼Œè¿™æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°ç†è§£å’Œè§£å†³é—®é¢˜
                        </div>
                        <div class="feedback-notice">
                            <i class="bi bi-envelope me-1"></i>
                            é—®é¢˜è§£å†³åï¼Œä¼šé€šè¿‡ä½ çš„å¸å·é‚®ç®±ç»™ä½ å›å¤ï¼Œä¹Ÿèƒ½åœ¨ 
                            <a href="/my_feedbacks" class="feedback-link">æˆ‘çš„åé¦ˆ</a> 
                            æŸ¥çœ‹é—®é¢˜å¤„ç†è¿›åº¦ã€‚
                        </div>
                    </div>
                    
                    <!-- å›¾ç‰‡ä¸Šä¼ åŒºåŸŸ -->
                    <div class="feedback-section">
                        <label class="feedback-label">ä¸Šä¼ å›¾ç‰‡ï¼ˆå¯é€‰ï¼Œæœ€å¤š9å¼ ï¼‰</label>
                        <div class="border rounded p-2" style="background-color: #f8f9fa; min-height: 70px;">
                            <input type="file" id="feedback_images" name="images" multiple accept="image/*" style="display: none;" />
                            <div id="feedback_image_preview" class="d-flex flex-wrap gap-2 mb-2"></div>
                            <div class="mb-1">
                                <button type="button" class="btn btn-outline-success btn-sm" onclick="document.getElementById('feedback_images').click();" style="font-size: 0.8rem; padding: 0.2rem 0.6rem;">
                                    <i class="bi bi-image me-1"></i>é€‰æ‹©å›¾ç‰‡
                                </button>
                            </div>
                            <small class="d-block" style="font-size: 11px; color: #333;">
                                <i class="bi bi-info-circle me-1"></i>æ”¯æŒ jpgã€pngã€gifã€webpã€bmp æ ¼å¼ï¼Œå•å¼ æœ€å¤§ 5MB
                            </small>
                        </div>
                    </div>
                </div>
                <div class="floating-footer">
                    <button type="button" class="floating-btn-action floating-btn-secondary" onclick="closeFeedback()">
                        å–æ¶ˆ
                    </button>
                    <button type="submit" class="floating-btn-action floating-btn-primary" id="submitFeedback">
                        <i class="bi bi-send me-1"></i>æäº¤åé¦ˆ
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- åˆ†äº«æµ®å±‚å¼¹çª— - ä½¿ç”¨å†…è”æ ·å¼ç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§ï¼Œé˜²æ­¢è¢«ç”¨æˆ·å†…å®¹è¦†ç›– -->
    <div id="shareOverlay" class="floating-overlay" onclick="if(event.target === this) closeShare()" style="position: fixed !important; top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important; z-index: 2147483646 !important; display: none !important; pointer-events: auto !important; visibility: visible !important; opacity: 1 !important;">
        <div class="floating-panel" style="position: relative !important; z-index: 2147483647 !important; display: block !important;">
            <div class="share-menu" style="position: relative !important; z-index: 2147483647 !important;">

                
                <!-- å·¥å…·ä¿¡æ¯ -->
                <div class="share-info">
                    <div class="share-info-title">
                        <i class="bi bi-info-circle me-1"></i>åˆ†äº«å†…å®¹
                    </div>
                    <div class="share-info-content">
                        <strong>daoshi</strong><br>
                        <small>æ¥è‡ª DKFile å…è´¹HTMLç½‘é¡µæ‰˜ç®¡å¹³å°</small>
                    </div>
                </div>
                
                <!-- äºŒç»´ç åŒºåŸŸ -->
                <div class="qr-code-section mb-4">
                    <div id="shareQrCode" class="qr-code-container">
                        <div class="qr-loading">
                            <i class="bi bi-hourglass-split"></i> ç”ŸæˆäºŒç»´ç ä¸­...
                        </div>
                    </div>
                    
                    <!-- åˆ†äº«æ“ä½œæŒ‰é’®ç»„ -->
                    <div class="qr-actions" style="position: relative !important; z-index: 2147483647 !important;">
                        <button class="qr-action-btn download-btn" onclick="if(typeof downloadQRCode === 'function') { downloadQRCode(); } else { void(0); }" style="position: relative !important; z-index: 2147483647 !important; pointer-events: auto !important;">
                            <i class="bi bi-download me-1"></i>
                            <span>ä¸‹è½½äºŒç»´ç </span>
                        </button>
                        <button class="qr-action-btn copy-btn" onclick="if(typeof copyLink === 'function') { copyLink(); } else { void(0); }" style="position: relative !important; z-index: 2147483647 !important; pointer-events: auto !important;">
                            <i class="bi bi-link-45deg me-1"></i>
                            <span>å¤åˆ¶é“¾æ¥</span>
                        </button>
                    </div>
                </div>
                
                <!-- åˆ†äº«æ¸ é“æ ‡é¢˜ -->
                <div class="share-channels-header">
                    <h6 class="share-channels-title">
                        <i class="bi bi-share me-2"></i>ä¸€é”®åˆ†äº«åˆ°è¿™äº›å¹³å°
                    </h6>
                </div>
                
                <div class="share-buttons">
                    <!-- ä¸»è¦ç¤¾äº¤å¹³å° -->
                    <button class="share-btn x-twitter" onclick="if(typeof shareToTwitter === 'function') { shareToTwitter(); } else { void(0); }">
                        <!-- X (Twitter) å›¾æ ‡ - ä½¿ç”¨é»‘è‰²èƒŒæ™¯ -->
                        <div class="x-icon-container">
                            <svg class="x-icon" viewBox="0 0 24 24" fill="white">
                                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </div>
                        <span>X (Twitter)</span>
                    </button>
                    
                    <!-- ä¸­æ–‡å¹³å° -->
                    <button class="share-btn weibo" onclick="if(typeof shareToWeibo === 'function') { shareToWeibo(); } else { void(0); }">
                        <i class="bi bi-weibo"></i>
                        <span>å¾®åš</span>
                    </button>
                    
                    <!-- å…¨çƒå¼€å‘è€…å¹³å° -->
                    <button class="share-btn github" onclick="if(typeof shareToGithub === 'function') { shareToGithub(); } else { void(0); }">
                        <i class="bi bi-github"></i>
                        <span>GitHub</span>
                    </button>
                    
                    <button class="share-btn reddit" onclick="if(typeof shareToReddit === 'function') { shareToReddit(); } else { void(0); }">
                        <i class="bi bi-reddit"></i>
                        <span>Reddit</span>
                    </button>
                    
                    <!-- ä¸“ä¸šå¹³å° -->
                    <button class="share-btn linkedin" onclick="if(typeof shareToLinkedIn === 'function') { shareToLinkedIn(); } else { void(0); }">
                        <i class="bi bi-linkedin"></i>
                        <span>LinkedIn</span>
                    </button>
                    
                    <!-- å³æ—¶é€šè®¯ -->
                    <button class="share-btn whatsapp" onclick="if(typeof shareToWhatsApp === 'function') { shareToWhatsApp(); } else { void(0); }">
                        <i class="bi bi-whatsapp"></i>
                        <span>WhatsApp</span>
                    </button>
                    
                    <button class="share-btn telegram" onclick="if(typeof shareToTelegram === 'function') { shareToTelegram(); } else { void(0); }">
                        <i class="bi bi-telegram"></i>
                        <span>Telegram</span>
                    </button>
                    
                    <!-- å›½å†…å¹³å° -->
                    <button class="share-btn wechat" onclick="if(typeof shareToWeChat === 'function') { shareToWeChat(); } else { void(0); }">
                        <i class="bi bi-wechat"></i>
                        <span>å¾®ä¿¡</span>
                    </button>
                    
                    <button class="share-btn qq" onclick="if(typeof shareToQQ === 'function') { shareToQQ(); } else { void(0); }">
                        <i class="bi bi-qq"></i>
                        <span>QQ</span>
                    </button>
                </div>
                
                <div class="share-divider"></div>
                
                <div class="share-close-section" style="position: relative !important; z-index: 2147483647 !important;">
                    <button class="floating-btn-action floating-btn-secondary" onclick="if(typeof closeShare === 'function') { closeShare(); } else { void(0); }" style="position: relative !important; z-index: 2147483647 !important; pointer-events: auto !important;">
                        <i class="bi bi-x-lg me-1"></i>å…³é—­
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- ç»Ÿä¸€çš„å›¾ç‰‡ä¸‹è½½å…¬å…±æœåŠ¡ -->
    <script src="/static/js/share-functions.js"></script>
    <!-- ç»Ÿä¸€å›¾ç‰‡å‹ç¼©æœåŠ¡ -->
    <script src="/static/js/dkfile-image-compressor.js"></script>
    
    <!-- ç§»é™¤é‡å¤çš„ Google æœåŠ¡åŠ è½½å™¨ï¼Œå› ä¸º base.html å·²ç»åŒ…å« -->
    <!-- <script src="/static/js/google-services-loader.js"></script> -->

    <script>
        // ä½¿ç”¨IIFEåŒ…è£…ï¼Œé˜²æ­¢ç”¨æˆ·å†…å®¹ä¸­çš„è¯­æ³•é”™è¯¯å½±å“æ­¤ä»£ç å—
        // å›¾ç‰‡ä¸Šä¼ å’Œå‹ç¼©ç›¸å…³å˜é‡
        var selectedFeedbackImages = [];
        var feedbackImageCompressor = null;
        try {
            if (typeof DKFileImageCompressor !== 'undefined') {
                feedbackImageCompressor = new DKFileImageCompressor({
                    maxDimension: 1600,
                    quality: 0.75,
                    minCompressSize: 300 * 1024
                });
            }
        } catch (error) {
            console.error('åˆå§‹åŒ–åé¦ˆå›¾ç‰‡å‹ç¼©å™¨å¤±è´¥:', error);
            selectedFeedbackImages = [];
            feedbackImageCompressor = null;
        }
        
        // å­—ç¬¦è®¡æ•°åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const textarea = document.getElementById('feedbackContent');
            const charCount = document.getElementById('charCount');
            
            if (textarea && charCount) {
                textarea.addEventListener('input', function() {
                    const length = this.value.length;
                    charCount.textContent = length + '/1000';
                    
                    if (length > 900) {
                        charCount.style.color = '#dc3545';
                    } else if (length > 800) {
                        charCount.style.color = '#ffc107';
                    } else {
                        charCount.style.color = '#999';
                    }
                });
            }
            
            // åˆå§‹åŒ–å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
            initializeFeedbackImageUpload();
        });
        
        // åˆå§‹åŒ–å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
        function initializeFeedbackImageUpload() {
            const feedbackImagesInput = document.getElementById('feedback_images');
            const feedbackImagePreview = document.getElementById('feedback_image_preview');
            
            if (!feedbackImagesInput || !feedbackImagePreview) return;
            
            // æ–‡ä»¶é€‰æ‹©äº‹ä»¶
            feedbackImagesInput.addEventListener('change', async function(e) {
                const files = Array.from(e.target.files);
                const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp', 'image/bmp'];
                const maxSize = 5 * 1024 * 1024; // 5MB
                const maxImages = 9;
                
                // éªŒè¯å›¾ç‰‡æ•°é‡å’Œæ€»æ•°é‡
                if (selectedFeedbackImages.length + files.length > maxImages) {
                    showToast('æœ€å¤šåªèƒ½ä¸Šä¼  ' + maxImages + ' å¼ å›¾ç‰‡', 'error');
                    return;
                }
                
                const invalidFile = files.find(file => {
                    if (!allowedTypes.includes(file.type)) {
                        showToast('å›¾ç‰‡ ' + file.name + ' æ ¼å¼ä¸æ”¯æŒï¼Œä»…æ”¯æŒ jpgã€pngã€gifã€webpã€bmp æ ¼å¼', 'error');
                        return true;
                    }
                    if (file.size > maxSize) {
                        showToast('å›¾ç‰‡ ' + file.name + ' è¿‡å¤§ï¼Œå•å¼ å›¾ç‰‡æœ€å¤§æ”¯æŒ 5MB', 'error');
                        return true;
                    }
                    return false;
                });
                
                if (invalidFile) {
                    return;
                }
                
                showToast('å›¾ç‰‡å‹ç¼©ä¸­ï¼Œè¯·ç¨å€™...', 'info');
                
                try {
                    // æ£€æŸ¥å‹ç¼©æœåŠ¡æ˜¯å¦å¯ç”¨
                    if (!feedbackImageCompressor) {
                        console.warn('[View] å›¾ç‰‡å‹ç¼©æœåŠ¡æœªåŠ è½½ï¼Œä½¿ç”¨åŸæ–‡ä»¶');
                        files.forEach(file => selectedFeedbackImages.push(file));
                    } else {
                        console.log('[View] å¼€å§‹å‹ç¼© ' + files.length + ' å¼ å›¾ç‰‡...');
                        files.forEach((file, index) => {
                            console.log('[View] åŸå§‹æ–‡ä»¶ ' + (index + 1) + ': ' + file.name + ', å¤§å°: ' + (file.size / 1024).toFixed(2) + ' KB');
                        });
                        
                        // ä½¿ç”¨ç»Ÿä¸€å‹ç¼©æœåŠ¡çš„æ‰¹é‡å‹ç¼©æ–¹æ³•
                        const compressedFiles = await feedbackImageCompressor.compressMultipleImages(files);
                        
                        console.log('[View] å‹ç¼©å®Œæˆï¼Œå…± ' + compressedFiles.length + ' å¼ å›¾ç‰‡');
                        compressedFiles.forEach((file, index) => {
                            console.log('[View] å‹ç¼©åæ–‡ä»¶ ' + (index + 1) + ': ' + file.name + ', å¤§å°: ' + (file.size / 1024).toFixed(2) + ' KB');
                        });
                        
                        compressedFiles.forEach(file => selectedFeedbackImages.push(file));
                    }
                    
                    showToast('å›¾ç‰‡å·²å‹ç¼©å®Œæˆã€‚', 'success');
                } catch (err) {
                    console.error('[View] å›¾ç‰‡å‹ç¼©å¤±è´¥:', err);
                    showToast('å›¾ç‰‡å¤„ç†å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚', 'error');
                    return;
                }
                
                updateFeedbackImageInput();
                previewFeedbackImages();
            });
        }
        
        // æ›´æ–°inputä¸­çš„æ–‡ä»¶
        function updateFeedbackImageInput() {
            const feedbackImagesInput = document.getElementById('feedback_images');
            if (!feedbackImagesInput) return;
            
            const dt = new DataTransfer();
            selectedFeedbackImages.forEach(file => dt.items.add(file));
            feedbackImagesInput.files = dt.files;
        }
        
        // é¢„è§ˆå›¾ç‰‡
        function previewFeedbackImages() {
            const feedbackImagePreview = document.getElementById('feedback_image_preview');
            if (!feedbackImagePreview) return;
            
            feedbackImagePreview.innerHTML = '';
            
            // å¦‚æœæ²¡æœ‰å›¾ç‰‡ï¼Œæ¸…ç©ºé¢„è§ˆåŒºåŸŸï¼ˆä¿æŒæ˜¾ç¤ºï¼Œä½†ä¸å ç”¨é¢å¤–ç©ºé—´ï¼‰
            if (selectedFeedbackImages.length === 0) {
                return;
            }
            
            selectedFeedbackImages.forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imgContainer = document.createElement('div');
                    imgContainer.className = 'position-relative';
                    imgContainer.style.cssText = 'width: 120px; height: 120px; margin-bottom: 10px;';
                    
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.style.cssText = 'width: 100%; height: 100%; object-fit: cover; border-radius: 8px;';
                    
                    const removeBtn = document.createElement('button');
                    removeBtn.type = 'button';
                    removeBtn.className = 'btn btn-sm btn-danger position-absolute';
                    removeBtn.style.cssText = 'top: -5px; right: -5px; width: 24px; height: 24px; padding: 0; border-radius: 50%; font-size: 12px; line-height: 1;';
                    removeBtn.innerHTML = 'Ã—';
                    removeBtn.onclick = function() {
                        selectedFeedbackImages.splice(index, 1);
                        updateFeedbackImageInput();
                        previewFeedbackImages();
                    };
                    
                    imgContainer.appendChild(img);
                    imgContainer.appendChild(removeBtn);
                    feedbackImagePreview.appendChild(imgContainer);
                };
                reader.readAsDataURL(file);
            });
        }

        // åé¦ˆè¡¨å•æäº¤
        document.getElementById('feedbackForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitFeedback');
            const originalText = submitBtn.innerHTML;
            
            // ç¡®ä¿ä½¿ç”¨å‹ç¼©åçš„å›¾ç‰‡ï¼ˆæ›´æ–°inputä¸­çš„æ–‡ä»¶ï¼‰
            if (selectedFeedbackImages.length > 0) {
                updateFeedbackImageInput();
                console.log('[View] å·²æ›´æ–°inputä¸­çš„å‹ç¼©å›¾ç‰‡ï¼Œæ•°é‡:', selectedFeedbackImages.length);
            }
            
            const formData = new FormData(this);
            
            // æ·»åŠ å·¥å…·ä¿¡æ¯
            formData.append('tool_url', 'http://deepseek.idoxu.com/qinci/daoshi.html');
            formData.append('tool_title', 'daoshi');
            formData.append('tool_id', '18874');
            
            // è°ƒè¯•ï¼šæ£€æŸ¥FormDataä¸­çš„æ–‡ä»¶
            if (selectedFeedbackImages.length > 0) {
                const formFiles = formData.getAll('images');
                console.log('[View] FormDataä¸­çš„æ–‡ä»¶æ•°é‡:', formFiles.length);
                formFiles.forEach((file, index) => {
                    console.log('[View] æ–‡ä»¶ ' + (index + 1) + ': ' + file.name + ', å¤§å°: ' + (file.size / 1024).toFixed(2) + ' KB');
                });
            }
            
            // æ˜¾ç¤ºæäº¤ä¸­çŠ¶æ€
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="bi bi-hourglass-split me-1"></i>æäº¤ä¸­...';
            
            fetch('/submit_feedback', {
                method: 'POST',
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                },
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    showToast('åé¦ˆæäº¤æˆåŠŸï¼æˆ‘ä»¬ä¼šå°½å¿«å¤„ç†æ‚¨çš„åé¦ˆã€‚');
                    // å…³é—­æµ®å±‚
                    if (typeof window.closeFeedback === 'function') {
                        window.closeFeedback();
                    } else if (typeof closeFeedback === 'function') {
                    closeFeedback();
                    }
                    // é‡ç½®è¡¨å•
                    this.reset();
                    document.getElementById('charCount').textContent = '0/1000';
                    // æ¸…ç©ºå›¾ç‰‡
                    selectedFeedbackImages = [];
                    updateFeedbackImageInput();
                    previewFeedbackImages();
                } else {
                    showToast('æäº¤å¤±è´¥ï¼š' + (data.message || 'æœªçŸ¥é”™è¯¯'));
                }
            })
            .catch(error => {
                console.error('Error:', error);
                showToast('æäº¤å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•');
            })
            .finally(() => {
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalText;
            });
        });
        
        // ç§»åŠ¨ç«¯éšè—å¹³å°æ ‡è¯†ï¼ˆç¡®ä¿è¦†ç›–å†…è”æ ·å¼ï¼‰
        (function() {
            function hidePlatformFooterOnMobile() {
                const footer = document.getElementById('dkfile-platform-footer-in-buttons');
                if (footer && window.innerWidth <= 768) {
                    footer.style.setProperty('display', 'none', 'important');
                } else if (footer && window.innerWidth > 768) {
                    footer.style.setProperty('display', 'flex', 'important');
                }
            }
            
            // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œ
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', hidePlatformFooterOnMobile);
            } else {
                hidePlatformFooterOnMobile();
            }
            
            // çª—å£å¤§å°æ”¹å˜æ—¶é‡æ–°æ£€æŸ¥
            window.addEventListener('resize', hidePlatformFooterOnMobile);
        })();
        
    </script>
    
    <!-- CSRF Token è‡ªåŠ¨æ·»åŠ è„šæœ¬ -->
    <script>
    // è‡ªåŠ¨ä¸ºæ‰€æœ‰ AJAX è¯·æ±‚æ·»åŠ  CSRF token
    (function() {
        const csrfToken = document.querySelector('meta[name="csrf-token"]')?.getAttribute('content');
        
        if (csrfToken) {
            // åˆ¤æ–­æ˜¯å¦ä¸ºåŒæºè¯·æ±‚ï¼ˆåŒ…æ‹¬ç›¸å¯¹è·¯å¾„ï¼‰
            function isSameOrigin(url) {
                if (typeof url !== 'string') return false;
                // ç›¸å¯¹è·¯å¾„è§†ä¸ºåŒæº
                if (url.startsWith('/')) return true;
                // ç»å¯¹è·¯å¾„æ£€æŸ¥åè®®å’ŒåŸŸå
                try {
                    const urlObj = new URL(url, window.location.href);
                    return urlObj.origin === window.location.origin;
                } catch (e) {
                    return false;
                }
            }
            
            // ä¸º fetch è¯·æ±‚æ·»åŠ  CSRF token
            const originalFetch = window.fetch;
            window.fetch = function(...args) {
                const [url, options = {}] = args;
                
                // åªå¯¹åŒæºè¯·æ±‚ä¸”ä¸ºçŠ¶æ€ä¿®æ”¹çš„è¯·æ±‚æ·»åŠ  CSRF token
                if (options.method && ['POST', 'PUT', 'DELETE', 'PATCH'].includes(options.method.toUpperCase()) &&
                    isSameOrigin(url)) {
                    // ç¡®ä¿ headers å¯¹è±¡å­˜åœ¨
                    if (!options.headers) {
                        options.headers = {};
                    }
                    // å¦‚æœ headers æ˜¯ Headers å¯¹è±¡ï¼Œä½¿ç”¨ set æ–¹æ³•
                    if (options.headers instanceof Headers) {
                        options.headers.set('X-CSRF-Token', csrfToken);
                    } else {
                        // æ™®é€šå¯¹è±¡ï¼Œç›´æ¥è®¾ç½®
                        options.headers = {
                            ...options.headers,
                            'X-CSRF-Token': csrfToken
                        };
                    }
                }
                
                return originalFetch.apply(this, args);
            };
            
            // ä¸º XMLHttpRequest æ·»åŠ  CSRF token
            const originalXHROpen = XMLHttpRequest.prototype.open;
            const originalXHRSend = XMLHttpRequest.prototype.send;
            
            XMLHttpRequest.prototype.open = function(method, url, async, user, password) {
                this._xhrUrl = url;
                this._xhrMethod = method;
                return originalXHROpen.call(this, method, url, async, user, password);
            };
            
            XMLHttpRequest.prototype.send = function(data) {
                // åªå¯¹åŒæºè¯·æ±‚ä¸”ä¸ºçŠ¶æ€ä¿®æ”¹çš„è¯·æ±‚æ·»åŠ  CSRF token
                if (this._xhrMethod && ['POST', 'PUT', 'DELETE', 'PATCH'].includes(this._xhrMethod.toUpperCase()) &&
                    isSameOrigin(this._xhrUrl)) {
                    this.setRequestHeader('X-CSRF-Token', csrfToken);
                }
                return originalXHRSend.call(this, data);
            };
            
            // ä¸ºè¡¨å•æäº¤æ·»åŠ  CSRF tokenï¼ˆåŠ¨æ€è¡¨å•ï¼‰
            document.addEventListener('submit', function(e) {
                const form = e.target;
                if (form.tagName === 'FORM' && !form.querySelector('input[name="csrf_token"]')) {
                    const input = document.createElement('input');
                    input.type = 'hidden';
                    input.name = 'csrf_token';
                    input.value = csrfToken;
                    form.appendChild(input);
                }
            });
        }
    })();
    </script>
</body>
</html>
